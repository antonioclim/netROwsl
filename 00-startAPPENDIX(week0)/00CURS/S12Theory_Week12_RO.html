<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SƒÉptƒÉm√¢na 12: Protocoale Email ‚Äì SMTP, POP3, IMAP »ôi WebMail | Re»õele de Calculatoare</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Source+Serif+4:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0f172a;
            --primary-light: #1e293b;
            --secondary: #0ea5e9;
            --secondary-dark: #0284c7;
            --accent: #f59e0b;
            --accent-warm: #ea580c;
            --success: #10b981;
            --success-dark: #059669;
            --danger: #ef4444;
            --purple: #8b5cf6;
            --purple-dark: #7c3aed;
            --bg-light: #f8fafc;
            --bg-cool: #f0f9ff;
            --bg-warm: #fffbeb;
            --text-dark: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --text-on-dark: #f1f5f9;
            --text-on-dark-muted: #cbd5e1;
            --text-on-dark-heading: #ffffff;
            --gradient-primary: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            --gradient-secondary: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            --gradient-accent: linear-gradient(135deg, #f59e0b 0%, #ea580c 100%);
            --gradient-success: linear-gradient(135deg, #10b981 0%, #059669 100%);
            --gradient-purple: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html, body { height: 100%; overflow: hidden; }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 18px; line-height: 1.7; color: var(--text-dark); background: var(--bg-light); }
        h1, h2, h3, h4 { font-family: 'Source Serif 4', Georgia, serif; font-weight: 600; line-height: 1.3; color: var(--primary); }
        h1 { font-size: 2.75rem; font-weight: 700; } h2 { font-size: 2.25rem; } h3 { font-size: 1.75rem; } h4 { font-size: 1.35rem; }
        p { margin-bottom: 1rem; }
        a { color: var(--secondary); text-decoration: none; transition: color 0.2s ease; }
        a:hover { color: var(--secondary-dark); }
        strong { font-weight: 600; }
        code { font-family: 'JetBrains Mono', monospace; font-size: 0.9em; background: rgba(15, 23, 42, 0.08); padding: 0.15em 0.4em; border-radius: 4px; }
        .presentation { width: 100vw; height: 100vh; position: relative; overflow: hidden; }
        .slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; padding: 4rem 4rem 5rem; display: none; flex-direction: column; background: var(--bg-light); overflow-y: auto; }
        .slide.active { display: flex; animation: slideIn 0.45s cubic-bezier(0.4, 0, 0.2, 1); }
        @keyframes slideIn { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .slide > * { animation: fadeUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) backwards; }
        .delay-1 { animation-delay: 0.1s; } .delay-2 { animation-delay: 0.2s; } .delay-3 { animation-delay: 0.3s; } .delay-4 { animation-delay: 0.4s; }
        .slide.title-slide { background: var(--gradient-primary); justify-content: center; align-items: center; text-align: center; }
        .slide.title-slide h1 { color: var(--text-on-dark-heading); font-size: 3.5rem; margin-bottom: 1rem; }
        .slide.title-slide .subtitle { color: var(--text-on-dark); font-size: 1.5rem; font-weight: 400; margin-bottom: 2rem; }
        .slide.title-slide .meta { color: var(--text-on-dark-muted); font-size: 1rem; }
        .slide.section-slide { background: var(--gradient-primary); justify-content: center; padding-left: 6rem; }
        .slide.section-slide .section-number { color: var(--accent); font-family: 'JetBrains Mono', monospace; font-size: 1rem; font-weight: 600; letter-spacing: 0.2em; text-transform: uppercase; margin-bottom: 0.5rem; }
        .slide.section-slide h2 { color: var(--text-on-dark-heading); font-size: 3rem; margin-bottom: 1rem; }
        .slide.section-slide .section-desc { color: var(--text-on-dark); font-size: 1.25rem; max-width: 600px; }
        .highlight-box { background: var(--gradient-secondary); color: #ffffff; padding: 1.5rem 2rem; border-radius: 16px; margin: 1.5rem 0; box-shadow: var(--shadow-lg); }
        .highlight-box p, .highlight-box span, .highlight-box strong { color: #ffffff; }
        .definition-box { background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.05) 100%); border-left: 4px solid var(--success); padding: 1.5rem 2rem; border-radius: 0 16px 16px 0; margin: 1.5rem 0; }
        .definition-box .term { color: var(--success-dark); font-weight: 700; font-size: 1.1rem; margin-bottom: 0.5rem; }
        .story-box { background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(124, 58, 237, 0.05) 100%); border-left: 4px solid var(--purple); padding: 1.5rem 2rem; border-radius: 0 16px 16px 0; margin: 1.5rem 0; }
        .story-box .story-title { color: var(--purple-dark); font-weight: 700; font-size: 1.1rem; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }
        .warning-box { background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(234, 88, 12, 0.05) 100%); border-left: 4px solid var(--accent); padding: 1.5rem 2rem; border-radius: 0 16px 16px 0; margin: 1.5rem 0; }
        .warning-box .warning-title { color: var(--accent-warm); font-weight: 700; font-size: 1.1rem; margin-bottom: 0.5rem; }
        .insight-box { background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(220, 38, 38, 0.05) 100%); border-left: 4px solid var(--danger); padding: 1.5rem 2rem; border-radius: 0 16px 16px 0; margin: 1.5rem 0; }
        .insight-box .insight-title { color: var(--danger); font-weight: 700; font-size: 1.1rem; margin-bottom: 0.5rem; }
        pre, .code-block { background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); color: #e2e8f0; padding: 1.25rem; border-radius: 12px; font-family: 'JetBrains Mono', monospace; font-size: 0.95rem; line-height: 1.7; overflow-x: auto; margin: 1rem 0; position: relative; white-space: pre; word-wrap: normal; }
        .code-block[data-lang]::before { content: attr(data-lang); position: absolute; top: 0.5rem; right: 0.75rem; font-size: 0.7rem; color: var(--text-on-dark-muted); text-transform: uppercase; letter-spacing: 0.1em; }
        .code-block .keyword { color: #f472b6; } .code-block .function { color: #60a5fa; } .code-block .string { color: #a5f3fc; } .code-block .number { color: #fbbf24; } .code-block .comment { color: #6b7280; font-style: italic; }
        .table-container { overflow-x: auto; margin: 1.5rem 0; border-radius: 16px; box-shadow: var(--shadow-lg); }
        table { width: 100%; border-collapse: collapse; background: #ffffff; }
        thead { background: var(--gradient-primary); }
        th { padding: 1rem 1.25rem; text-align: left; font-weight: 600; color: var(--text-on-dark-heading); text-transform: uppercase; font-size: 0.85rem; letter-spacing: 0.05em; }
        th:first-child { border-radius: 16px 0 0 0; } th:last-child { border-radius: 0 16px 0 0; }
        td { padding: 1rem 1.25rem; border-bottom: 1px solid var(--border); }
        tr:hover td { background: var(--bg-cool); }
        .card { background: #ffffff; border-radius: 16px; padding: 1.5rem; box-shadow: var(--shadow-md); transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card:hover { transform: translateY(-6px); box-shadow: var(--shadow-xl); }
        .card.accent-left { border-left: 4px solid var(--accent); }
        .card.success-left { border-left: 4px solid var(--success); }
        .card.danger-left { border-left: 4px solid var(--danger); }
        .card.purple-left { border-left: 4px solid var(--purple); }
        .card-grid { display: grid; gap: 1.5rem; margin: 1.5rem 0; }
        .card-grid.cols-2 { grid-template-columns: repeat(2, 1fr); }
        .card-grid.cols-3 { grid-template-columns: repeat(3, 1fr); }
        .card-grid.cols-4 { grid-template-columns: repeat(4, 1fr); }
        .diagram-container { margin: 1.5rem 0; text-align: center; }
        .diagram-container svg { max-width: 100%; min-height: 180px; }
        .quiz-container { background: #ffffff; border-radius: 16px; padding: 2rem; box-shadow: var(--shadow-lg); margin: 1.5rem 0; }
        .quiz-question { font-weight: 600; font-size: 1.1rem; margin-bottom: 1.5rem; color: var(--primary); }
        .quiz-options { display: flex; flex-direction: column; gap: 0.75rem; }
        .quiz-option { padding: 1rem 1.25rem; background: var(--bg-light); border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; font-size: 1rem; }
        .quiz-option:hover { border-color: var(--secondary); background: var(--bg-cool); }
        .quiz-option.correct { border-color: var(--success); background: rgba(16, 185, 129, 0.1); }
        .quiz-option.incorrect { border-color: var(--danger); background: rgba(239, 68, 68, 0.1); }
        .quiz-feedback { margin-top: 1rem; padding: 1rem; border-radius: 10px; display: none; }
        .quiz-feedback.show { display: block; }
        .quiz-feedback.correct { background: rgba(16, 185, 129, 0.1); border: 1px solid var(--success); color: var(--success-dark); }
        .quiz-feedback.incorrect { background: rgba(239, 68, 68, 0.1); border: 1px solid var(--danger); color: var(--danger); }
        .reveal-btn { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background: var(--gradient-secondary); color: #ffffff; border: none; border-radius: 10px; font-size: 1rem; font-weight: 500; cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .reveal-btn:hover { transform: scale(1.05); box-shadow: var(--shadow-lg); }
        .reveal-content { display: none; margin-top: 1rem; animation: fadeUp 0.4s ease; }
        .reveal-content.show { display: block; }
        .progress-bar { position: fixed; top: 0; left: 0; height: 4px; background: var(--gradient-secondary); z-index: 1000; transition: width 0.3s ease; }
        .slide-counter { position: fixed; top: 1.25rem; right: 2rem; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; color: var(--text-muted); z-index: 1000; }
        .course-id { position: fixed; top: 1.25rem; left: 2rem; font-size: 0.85rem; font-weight: 600; color: var(--primary); z-index: 1000; }
        .navigation { position: fixed; bottom: 1.5rem; left: 50%; transform: translateX(-50%); display: flex; gap: 0.75rem; z-index: 1000; }
        .nav-btn { width: 48px; height: 48px; display: flex; align-items: center; justify-content: center; background: #ffffff; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.2s ease; font-size: 1.25rem; }
        .nav-btn:hover { border-color: var(--secondary); background: var(--bg-cool); transform: translateY(-2px); }
        .nav-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        .footer-attr { position: fixed; bottom: 1.5rem; left: 2rem; font-size: 0.8rem; color: var(--text-muted); z-index: 1000; }
        .toc-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(8px); z-index: 2000; justify-content: center; align-items: center; }
        .toc-modal.show { display: flex; }
        .toc-content { background: #ffffff; border-radius: 20px; padding: 2.5rem; max-width: 700px; width: 90%; max-height: 80vh; overflow-y: auto; box-shadow: var(--shadow-xl); position: relative; }
        .toc-content h3 { margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 2px solid var(--border); }
        .toc-section { margin-bottom: 1.5rem; }
        .toc-section-title { font-weight: 700; color: var(--secondary); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.75rem; }
        .toc-item { padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; display: flex; align-items: center; gap: 0.75rem; }
        .toc-item:hover { background: var(--bg-cool); }
        .toc-item .toc-num { font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; color: var(--text-muted); min-width: 2.5rem; }
        .toc-close { position: absolute; top: 1rem; right: 1rem; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; background: var(--bg-light); border: none; border-radius: 10px; cursor: pointer; font-size: 1.5rem; color: var(--text-muted); transition: all 0.2s ease; }
        .toc-close:hover { background: var(--danger); color: #ffffff; }
        .text-muted { color: var(--text-muted); }
        .mt-2 { margin-top: 1rem; }
        .mb-2 { margin-bottom: 1rem; }
        @media (max-width: 1200px) {
            .slide { padding: 3rem; } h1 { font-size: 2.25rem; } h2 { font-size: 1.85rem; }
            .card-grid.cols-4 { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 768px) {
            .slide { padding: 2rem 1.5rem 4rem; } h1 { font-size: 1.85rem; } h2 { font-size: 1.5rem; } body { font-size: 16px; }
            .card-grid.cols-2, .card-grid.cols-3, .card-grid.cols-4 { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>
    <div class="slide-counter" id="slideCounter">1 / 41</div>
    <div class="course-id">Re»õele de Calculatoare ‚Ä¢ SƒÉptƒÉm√¢na 12</div>
    <div class="footer-attr">by Revolvix</div>

    <div class="presentation" id="presentation">

        <!-- SLIDE 1: TITLE -->
        <div class="slide title-slide active" data-slide="1">
            <h1 class="delay-1">Protocoale Email</h1>
            <p class="subtitle delay-2">SMTP ‚Ä¢ POP3 ‚Ä¢ IMAP ‚Ä¢ WebMail</p>
            <div class="meta delay-3">
                <p>Re»õele de Calculatoare ‚Äî Semestrul 2, SƒÉptƒÉm√¢na 12 of 14</p>
                <p>Academia de Studii Economice din Bucure»ôti ‚Ä¢ Faculty CSIE</p>
                <p style="margin-top: 1rem; color: var(--accent);">Licen»õƒÉ InformaticƒÉ EconomicƒÉ, Anul 3</p>
            </div>
        </div>

        <!-- SLIDE 2: HOOK -->
        <div class="slide" data-slide="2">
            <h2 class="delay-1">üìß Protocolul Care RefuzƒÉ sƒÉ MoarƒÉ</h2>
            <div class="story-box delay-2">
                <div class="story-title">üï∞Ô∏è A 50-Year Journey</div>
                <p>In 1971, Ray Tomlinson sent the first networked email between two computers. He chose the <code>@</code> symbol to separate usernames from machine names‚Äîa decision that persists to this day. Despite countless predictions of its demise, email now handles over <strong>300 billion messages daily</strong>.</p>
            </div>
            <div class="card-grid cols-3 delay-3">
                <div class="card accent-left">
                    <h4>Still Growing</h4>
                    <p class="text-muted">Email traffic increases ~4% annually despite competition from newer platforms.</p>
                </div>
                <div class="card success-left">
                    <h4>Business Critical</h4>
                    <p class="text-muted">Over 90% of B2B communications rely on email for formal correspondence.</p>
                </div>
                <div class="card purple-left">
                    <h4>Identity Anchor</h4>
                    <p class="text-muted">Your email address is your digital identity‚Äîauthentication and account recovery depend on it.</p>
                </div>
            </div>
            <div class="highlight-box delay-4">
                <strong>De Ce ConteazƒÉ:</strong> Understanding email protocols is essential for debugging delivery issues, configuring servers, implementing notifications, and protecting against spoofing attacks.
            </div>
        </div>

        <!-- SLIDE 3: LEARNING OBJECTIVES -->
        <div class="slide" data-slide="3">
            <h2 class="delay-1">üéØ Obiective de √énvƒÉ»õare</h2>
            <p class="text-muted delay-1">By the end of this lecture, you will be able to:</p>
            <div class="card-grid cols-2 delay-2">
                <div class="card accent-left">
                    <h4>Remember & Understand</h4>
                    <ul style="margin-top: 0.5rem; margin-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>Define</strong> the roles of MUA, MTA, and MDA</li>
                        <li><strong>List</strong> SMTP commands and response codes</li>
                        <li><strong>Explain</strong> envelope vs message headers</li>
                        <li><strong>Describe</strong> POP3 vs IMAP differences</li>
                    </ul>
                </div>
                <div class="card success-left">
                    <h4>Apply & Analyse</h4>
                    <ul style="margin-top: 0.5rem; margin-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>Trace</strong> an email's journey from sender to recipient</li>
                        <li><strong>Diagnose</strong> delivery failures using SMTP codes</li>
                        <li><strong>Implement</strong> email sending with Python smtplib</li>
                        <li><strong>Differentiate</strong> MIME types for content</li>
                    </ul>
                </div>
                <div class="card danger-left">
                    <h4>Evaluate & Create</h4>
                    <ul style="margin-top: 0.5rem; margin-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>Assess</strong> SPF, DKIM, DMARC security</li>
                        <li><strong>Design</strong> email notification systems</li>
                        <li><strong>Recommend</strong> POP3 vs IMAP based on use cases</li>
                    </ul>
                </div>
                <div class="card purple-left">
                    <h4>Prerequisites</h4>
                    <ul style="margin-top: 0.5rem; margin-left: 1.25rem; color: var(--text-muted);">
                        <li>TCP/IP fundamentals (Weeks 4-6)</li>
                        <li>Socket programming (Week 3)</li>
                        <li>DNS resolution (Week 6)</li>
                        <li>HTTP model (Week 10)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SLIDE 4: AGENDA -->
        <div class="slide" data-slide="4">
            <h2 class="delay-1">üìã CƒÉlƒÉtoria de AstƒÉzi</h2>
            <div class="diagram-container delay-2">
                <svg viewBox="0 0 900 200" style="max-width: 900px; min-height: 180px;">
                    <path d="M 80 100 L 850 100" stroke="#e2e8f0" stroke-width="6" fill="none" stroke-linecap="round"/>
                    <circle cx="80" cy="100" r="28" fill="#0ea5e9"/><text x="80" y="105" text-anchor="middle" fill="#fff" font-weight="600" font-size="14">1</text>
                    <text x="80" y="150" text-anchor="middle" font-size="11" font-weight="600" fill="#0f172a">Architecture</text>
                    <circle cx="235" cy="100" r="28" fill="#10b981"/><text x="235" y="105" text-anchor="middle" fill="#fff" font-weight="600" font-size="14">2</text>
                    <text x="235" y="150" text-anchor="middle" font-size="11" font-weight="600" fill="#0f172a">SMTP</text>
                    <circle cx="390" cy="100" r="28" fill="#f59e0b"/><text x="390" y="105" text-anchor="middle" fill="#fff" font-weight="600" font-size="14">3</text>
                    <text x="390" y="150" text-anchor="middle" font-size="11" font-weight="600" fill="#0f172a">POP3 & IMAP</text>
                    <circle cx="545" cy="100" r="28" fill="#8b5cf6"/><text x="545" y="105" text-anchor="middle" fill="#fff" font-weight="600" font-size="14">4</text>
                    <text x="545" y="150" text-anchor="middle" font-size="11" font-weight="600" fill="#0f172a">MIME</text>
                    <circle cx="700" cy="100" r="28" fill="#ef4444"/><text x="700" y="105" text-anchor="middle" fill="#fff" font-weight="600" font-size="14">5</text>
                    <text x="700" y="150" text-anchor="middle" font-size="11" font-weight="600" fill="#0f172a">Security</text>
                    <circle cx="850" cy="100" r="28" fill="#0f172a"/><text x="850" y="105" text-anchor="middle" fill="#fff" font-weight="600" font-size="14">6</text>
                    <text x="850" y="150" text-anchor="middle" font-size="11" font-weight="600" fill="#0f172a">Modern Email</text>
                </svg>
            </div>
            <div class="highlight-box delay-3">
                <strong>Starterkit Connection:</strong> Today's exercises in <code>WEEK12/exercises/ex_01_smtp.py</code> provide hands-on experience with a minimal SMTP server. You'll send real emails and analyse envelope vs message headers.
            </div>
        </div>

        <!-- SLIDE 5: SECTION - ARCHITECTURE -->
        <div class="slide section-slide" data-slide="5">
            <div class="section-number">Section 01</div>
            <h2>Arhitectura Email</h2>
            <p class="section-desc">Understanding the postal system of the internet: agents, protocols, and message journeys.</p>
        </div>

        <!-- SLIDE 6: EMAIL COMPONENTS -->
        <div class="slide" data-slide="6">
            <h2 class="delay-1">üì¨ Ecosistemul Email</h2>
            <p class="delay-1">Email architecture mirrors traditional postal services with specialised components.</p>
            <div class="table-container delay-2">
                <table>
                    <thead><tr><th>Component</th><th>Full Name</th><th>Role</th><th>Exemplus</th></tr></thead>
                    <tbody>
                        <tr><td><strong>MUA</strong></td><td>Agent Utilizator Po»ôtƒÉ</td><td>User interface for composing/reading</td><td>Thunderbird, Outlook, Gmail</td></tr>
                        <tr><td><strong>MSA</strong></td><td>Agent Trimitere Email</td><td>Receives mail from MUA (port 587)</td><td>Often integrated with MTA</td></tr>
                        <tr><td><strong>MTA</strong></td><td>Agent Transfer Po»ôtƒÉ</td><td>Routes messages between servers</td><td>Postfix, Sendmail, Exchange</td></tr>
                        <tr><td><strong>MDA</strong></td><td>Agent Livrare Po»ôtƒÉ</td><td>Delivers to local mailbox</td><td>Dovecot, Procmail, Cyrus</td></tr>
                    </tbody>
                </table>
            </div>
            <div class="story-box delay-3">
                <div class="story-title">üè§ Postal Analogy</div>
                <p><strong>MUA</strong> = pen and paper, <strong>MSA</strong> = post office counter, <strong>MTA</strong> = sorting centres and trucks, <strong>MDA</strong> = postman delivering to your mailbox.</p>
            </div>
        </div>

        <!-- SLIDE 7: EMAIL FLOW -->
        <div class="slide" data-slide="7">
            <h2 class="delay-1">üîÑ CƒÉlƒÉtoria unui Email</h2>
            <div class="diagram-container delay-2">
                <svg viewBox="0 0 800 220" style="max-width: 1200px; min-height: 300px;">
                    <rect x="20" y="30" width="240" height="160" rx="12" fill="#f0f9ff" stroke="#0ea5e9" stroke-width="2"/>
                    <text x="140" y="55" text-anchor="middle" font-size="11" font-weight="600" fill="#0ea5e9">SENDER DOMAIN</text>
                    <rect x="540" y="30" width="240" height="160" rx="12" fill="#f0fdf4" stroke="#10b981" stroke-width="2"/>
                    <text x="660" y="55" text-anchor="middle" font-size="11" font-weight="600" fill="#10b981">RECEIVER DOMAIN</text>
                    <rect x="40" y="80" width="80" height="45" rx="6" fill="#fff" stroke="#0f172a" stroke-width="2"/>
                    <text x="80" y="105" text-anchor="middle" font-size="10" font-weight="600">MUA</text>
                    <rect x="160" y="80" width="80" height="45" rx="6" fill="#fff" stroke="#0f172a" stroke-width="2"/>
                    <text x="200" y="105" text-anchor="middle" font-size="10" font-weight="600">MTA</text>
                    <rect x="560" y="80" width="80" height="45" rx="6" fill="#fff" stroke="#0f172a" stroke-width="2"/>
                    <text x="600" y="105" text-anchor="middle" font-size="10" font-weight="600">MTA</text>
                    <rect x="680" y="80" width="80" height="45" rx="6" fill="#fff" stroke="#0f172a" stroke-width="2"/>
                    <text x="720" y="105" text-anchor="middle" font-size="10" font-weight="600">MDA</text>
                    <rect x="680" y="140" width="80" height="40" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
                    <text x="720" y="165" text-anchor="middle" font-size="10">üì´ CƒÉsu»õƒÉ Po»ôtalƒÉ</text>
                    <ellipse cx="400" cy="102" rx="50" ry="28" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
                    <text x="400" y="107" text-anchor="middle" font-size="10" fill="#64748b">Internet</text>
                    <line x1="120" y1="102" x2="155" y2="102" stroke="#0f172a" stroke-width="2" marker-end="url(#arr)"/>
                    <line x1="240" y1="102" x2="350" y2="102" stroke="#0f172a" stroke-width="2" marker-end="url(#arr)"/>
                    <line x1="450" y1="102" x2="555" y2="102" stroke="#0f172a" stroke-width="2" marker-end="url(#arr)"/>
                    <line x1="640" y1="102" x2="675" y2="102" stroke="#0f172a" stroke-width="2" marker-end="url(#arr)"/>
                    <line x1="720" y1="125" x2="720" y2="135" stroke="#0f172a" stroke-width="2" marker-end="url(#arr)"/>
                    <text x="170" y="90" font-size="9" fill="#0ea5e9">SMTP:587</text>
                    <text x="290" y="90" font-size="9" fill="#64748b">SMTP:25</text>
                    <defs><marker id="arr" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto"><path d="M0,0 L0,6 L8,3 z" fill="#0f172a"/></marker></defs>
                </svg>
            </div>
            <div class="card-grid cols-2 delay-3">
                <div class="card accent-left">
                    <h4>Sending (SMTP)</h4>
                    <ol style="margin-left: 1.25rem; color: var(--text-muted); font-size: 0.95rem;">
                        <li>User composes in MUA</li>
                        <li>MUA submits to MTA via SMTP (587)</li>
                        <li>MTA queries DNS for MX record</li>
                        <li>MTA delivers to recipient MTA (25)</li>
                    </ol>
                </div>
                <div class="card success-left">
                    <h4>Receiving (IMAP/POP3)</h4>
                    <ol style="margin-left: 1.25rem; color: var(--text-muted); font-size: 0.95rem;">
                        <li>Recipient MTA passes to MDA</li>
                        <li>MDA stores in mailbox</li>
                        <li>User's MUA retrieves via IMAP/POP3</li>
                        <li>User reads the message</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- SLIDE 8: ENVELOPE VS HEADERS -->
        <div class="slide" data-slide="8">
            <h2 class="delay-1">üì® Plic vs Antete Mesaj</h2>
            <p class="delay-1">The most critical concept: routing and display information are <strong>separate</strong>.</p>
            <div class="card-grid cols-2 delay-2">
                <div class="card accent-left">
                    <h4>üìÆ Envelope (SMTP Level)</h4>
                    <p class="text-muted mb-2">Used for <strong>routing</strong> ‚Äî determines where message goes.</p>
                    <div class="code-block" data-lang="smtp">MAIL FROM:<alice@sender.com>
RCPT TO:<bob@recipient.com></div>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted); font-size: 0.9rem;">
                        <li>Invisible to end user</li>
                        <li>Used for bounce messages</li>
                    </ul>
                </div>
                <div class="card success-left">
                    <h4>üìÑ Message Headers (RFC 5322)</h4>
                    <p class="text-muted mb-2">Used for <strong>display</strong> ‚Äî shown in email client.</p>
                    <div class="code-block" data-lang="headers">From: Alice <alice@sender.com>
To: Bob <bob@recipient.com>
Subject: Meeting Tomorrow</div>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted); font-size: 0.9rem;">
                        <li>Visible to user</li>
                        <li>Can be freely set by sender</li>
                    </ul>
                </div>
            </div>
            <div class="warning-box delay-3">
                <div class="warning-title">‚ö†Ô∏è Security Implication</div>
                <p>Because envelope and headers can differ, <strong>email spoofing</strong> is trivially easy without SPF, DKIM, and DMARC protections.</p>
            </div>
        </div>

        <!-- SLIDE 9: SECTION - SMTP -->
        <div class="slide section-slide" data-slide="9">
            <div class="section-number">Section 02</div>
            <h2>Protocolul SMTP</h2>
            <p class="section-desc">Protocol Simplu de Transfer Po»ôtƒÉ: the workhorse that moves billions of messages daily.</p>
        </div>

        <!-- SLIDE 10: SMTP INTRO -->
        <div class="slide" data-slide="10">
            <h2 class="delay-1">üì§ SMTP ‚Äî Protocol Simplu de Transfer Po»ôtƒÉ</h2>
            <div class="definition-box delay-2">
                <div class="term">RFC 5321 (2008)</div>
                <p>SMTP is the standard protocol for sending email. It's text-based, command-response, and operates over TCP.</p>
            </div>
            <div class="card-grid cols-2 delay-3">
                <div class="card accent-left">
                    <h4>Characteristics</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>Text-based:</strong> Human-readable commands</li>
                        <li><strong>Command-response:</strong> Similar to HTTP</li>
                        <li><strong>Stateful:</strong> Session maintains state</li>
                        <li><strong>Persistent connection:</strong> One TCP per session</li>
                    </ul>
                </div>
                <div class="card success-left">
                    <h4>Port Assignments</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>Port 25:</strong> Server-to-server relay</li>
                        <li><strong>Port 587:</strong> Submission (with auth)</li>
                        <li><strong>Port 465:</strong> Legacy SMTPS (implicit TLS)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SLIDE 11: SMTP COMMANDS -->
        <div class="slide" data-slide="11">
            <h2 class="delay-1">‚å®Ô∏è Comenzi SMTP</h2>
            <div class="table-container delay-2">
                <table>
                    <thead><tr><th>Command</th><th>Parameters</th><th>Description</th><th>Success</th></tr></thead>
                    <tbody>
                        <tr><td><code>EHLO</code></td><td>hostname</td><td>Extended greeting, requests extensions</td><td>250</td></tr>
                        <tr><td><code>MAIL FROM</code></td><td>&lt;address&gt;</td><td>Specifies envelope sender</td><td>250</td></tr>
                        <tr><td><code>RCPT TO</code></td><td>&lt;address&gt;</td><td>Specifies recipient (repeatable)</td><td>250</td></tr>
                        <tr><td><code>DATA</code></td><td>‚Äî</td><td>Begins message body</td><td>354</td></tr>
                        <tr><td><code>QUIT</code></td><td>‚Äî</td><td>√énchides connection</td><td>221</td></tr>
                        <tr><td><code>RSET</code></td><td>‚Äî</td><td>Resets session state</td><td>250</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- SLIDE 12: SMTP RESPONSE CODES -->
        <div class="slide" data-slide="12">
            <h2 class="delay-1">üìä SMTP Response Codes</h2>
            <div class="card-grid cols-2 delay-2">
                <div class="card success-left">
                    <h4 style="color: var(--success);">2xx ‚Äî Success</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li><code>220</code> ‚Äî Service ready</li>
                        <li><code>221</code> ‚Äî Closing (after QUIT)</li>
                        <li><code>250</code> ‚Äî Action completed</li>
                    </ul>
                </div>
                <div class="card accent-left">
                    <h4 style="color: var(--accent);">3xx ‚Äî Intermediate</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li><code>354</code> ‚Äî Start mail input</li>
                    </ul>
                </div>
                <div class="card warning-left">
                    <h4 style="color: var(--accent-warm);">4xx ‚Äî Temporary Failure</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li><code>421</code> ‚Äî Service unavailable</li>
                        <li><code>450</code> ‚Äî CƒÉsu»õƒÉ Po»ôtalƒÉ temporarily unavailable</li>
                    </ul>
                </div>
                <div class="card danger-left">
                    <h4 style="color: var(--danger);">5xx ‚Äî Permanent Failure</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li><code>550</code> ‚Äî CƒÉsu»õƒÉ Po»ôtalƒÉ not found</li>
                        <li><code>554</code> ‚Äî Transaction failed</li>
                    </ul>
                </div>
            </div>
            <div class="highlight-box delay-3">
                <strong>Key:</strong> 4xx = "try again later", 5xx = "don't retry". MTAs auto-retry on 4xx, generate bounces on 5xx.
            </div>
        </div>

        <!-- SLIDE 13: SMTP SESSION -->
        <div class="slide" data-slide="13">
            <h2 class="delay-1">üí¨ Complete SMTP Session</h2>
            <div class="code-block delay-2" data-lang="smtp" style="font-size: 0.85rem;"><span class="comment">S: 220 mail.example.com ESMTP Postfix</span>
<span class="keyword">C: EHLO</span> client.domain.com
<span class="comment">S: 250-mail.example.com</span>
<span class="comment">S: 250-STARTTLS</span>
<span class="comment">S: 250 AUTH PLAIN LOGIN</span>
<span class="keyword">C: MAIL FROM:</span>&lt;alice@sender.com&gt;
<span class="comment">S: 250 OK</span>
<span class="keyword">C: RCPT TO:</span>&lt;bob@recipient.com&gt;
<span class="comment">S: 250 OK</span>
<span class="keyword">C: DATA</span>
<span class="comment">S: 354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</span>
<span class="string">C: From: Alice &lt;alice@sender.com&gt;</span>
<span class="string">C: To: Bob &lt;bob@recipient.com&gt;</span>
<span class="string">C: Subject: Test message</span>
<span class="string">C: </span>
<span class="string">C: Hello Bob!</span>
<span class="keyword">C: .</span>
<span class="comment">S: 250 OK: queued as ABC123</span>
<span class="keyword">C: QUIT</span>
<span class="comment">S: 221 Bye</span></div>
        </div>

        <!-- SLIDE 14: SMTP QUIZ -->
        <div class="slide" data-slide="14">
            <h2 class="delay-1">üß† Verificare Cuno»ôtin»õe: SMTP</h2>
            <div class="quiz-container delay-2">
                <div class="quiz-question">Which SMTP command specifies the recipient?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkQuiz(this, false)">A) MAIL FROM</div>
                    <div class="quiz-option" onclick="checkQuiz(this, true)">B) RCPT TO</div>
                    <div class="quiz-option" onclick="checkQuiz(this, false)">C) DATA</div>
                    <div class="quiz-option" onclick="checkQuiz(this, false)">D) SEND TO</div>
                </div>
                <div class="quiz-feedback correct">‚úì Corect! RCPT TO specifies the envelope recipient.</div>
                <div class="quiz-feedback incorrect">‚úó Incorect. RCPT TO specifies the recipient address.</div>
            </div>
            <div class="quiz-container delay-3" style="margin-top: 1.5rem;">
                <div class="quiz-question">What does a 550 response code indicate?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkQuiz(this, false)">A) Temporary failure</div>
                    <div class="quiz-option" onclick="checkQuiz(this, true)">B) Permanent failure ‚Äî mailbox unavailable</div>
                    <div class="quiz-option" onclick="checkQuiz(this, false)">C) Authentication required</div>
                    <div class="quiz-option" onclick="checkQuiz(this, false)">D) Message accepted</div>
                </div>
                <div class="quiz-feedback correct">‚úì Corect! 5xx codes are permanent failures.</div>
                <div class="quiz-feedback incorrect">‚úó Incorect. 550 means mailbox unavailable/rejected.</div>
            </div>
        </div>

        <!-- SLIDE 15: SECTION - POP3 & IMAP -->
        <div class="slide section-slide" data-slide="15">
            <div class="section-number">Section 03</div>
            <h2>POP3 & IMAP</h2>
            <p class="section-desc">Two philosophies for mailbox access: download vs synchronise.</p>
        </div>

        <!-- SLIDE 16: POP3 -->
        <div class="slide" data-slide="16">
            <h2 class="delay-1">üì• POP3 ‚Äî Protocol Oficiu Po»ôtal v3</h2>
            <div class="definition-box delay-2">
                <div class="term">RFC 1939 (1996)</div>
                <p>Simple protocol for downloading email. Design philosophy: "download and delete" ‚Äî messages retrieved to client, removed from server.</p>
            </div>
            <div class="card-grid cols-2 delay-3">
                <div class="card accent-left">
                    <h4>Characteristics</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>Model:</strong> Download-and-delete</li>
                        <li><strong>Port:</strong> 110 (plain), 995 (TLS)</li>
                        <li><strong>State:</strong> Minimal server storage</li>
                    </ul>
                </div>
                <div class="card success-left">
                    <h4>Best For</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li>Single-device access</li>
                        <li>Limited server storage</li>
                        <li>Offline reading needs</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SLIDE 17: POP3 COMMANDS -->
        <div class="slide" data-slide="17">
            <h2 class="delay-1">‚å®Ô∏è Comenzi POP3</h2>
            <div class="table-container delay-2">
                <table>
                    <thead><tr><th>Command</th><th>Description</th><th>Response</th></tr></thead>
                    <tbody>
                        <tr><td><code>USER name</code></td><td>Specifies username</td><td>+OK</td></tr>
                        <tr><td><code>PASS secret</code></td><td>Provides password</td><td>+OK logged in</td></tr>
                        <tr><td><code>STAT</code></td><td>Message count and size</td><td>+OK n octets</td></tr>
                        <tr><td><code>LIST</code></td><td>Lists all messages</td><td>+OK (multi-line)</td></tr>
                        <tr><td><code>RETR n</code></td><td>Retrieves message n</td><td>+OK (content)</td></tr>
                        <tr><td><code>DELE n</code></td><td>Marks for deletion</td><td>+OK marked</td></tr>
                        <tr><td><code>QUIT</code></td><td>Commits deletions, closes</td><td>+OK bye</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- SLIDE 18: IMAP -->
        <div class="slide" data-slide="18">
            <h2 class="delay-1">üì® IMAP ‚Äî Protocol de Acces Mesaje Internet</h2>
            <div class="definition-box delay-2">
                <div class="term">RFC 3501 (2003)</div>
                <p>Full mailbox management with server-side storage. Messages remain on server, accessible from multiple devices with full synchronisation.</p>
            </div>
            <div class="card-grid cols-2 delay-3">
                <div class="card accent-left">
                    <h4>Characteristics</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>Model:</strong> Server-side storage</li>
                        <li><strong>Port:</strong> 143 (plain), 993 (TLS)</li>
                        <li><strong>State:</strong> Full synchronisation</li>
                    </ul>
                </div>
                <div class="card success-left">
                    <h4>Best For</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li>Multiple device access</li>
                        <li>Webmail implementations</li>
                        <li>Shared/team mailboxes</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SLIDE 19: POP3 VS IMAP -->
        <div class="slide" data-slide="19">
            <h2 class="delay-1">‚öñÔ∏è POP3 vs IMAP Compara»õie</h2>
            <div class="table-container delay-2">
                <table>
                    <thead><tr><th>Aspect</th><th>POP3</th><th>IMAP</th></tr></thead>
                    <tbody>
                        <tr><td><strong>Storage</strong></td><td>Download to local</td><td>Keep on server</td></tr>
                        <tr><td><strong>Multi-Device</strong></td><td>‚ùå No sync</td><td>‚úÖ Full sync</td></tr>
                        <tr><td><strong>Folders</strong></td><td>‚ùå Only INBOX</td><td>‚úÖ Full hierarchy</td></tr>
                        <tr><td><strong>Flags</strong></td><td>‚ùå Not supported</td><td>‚úÖ \Seen, \Flagged, etc.</td></tr>
                        <tr><td><strong>Search</strong></td><td>‚ùå Client-side</td><td>‚úÖ Server-side</td></tr>
                        <tr><td><strong>Bandwidth</strong></td><td>Full download</td><td>Selective fetch</td></tr>
                        <tr><td><strong>Complexity</strong></td><td>Simple</td><td>Complex</td></tr>
                    </tbody>
                </table>
            </div>
            <div class="highlight-box delay-3">
                <strong>Industry Standard:</strong> IMAP is now the default for modern email. Gmail, Outlook, and most providers recommend IMAP over POP3.
            </div>
        </div>

        <!-- SLIDE 20: IMAP FLAGS -->
        <div class="slide" data-slide="20">
            <h2 class="delay-1">üè∑Ô∏è IMAP Message Flags</h2>
            <p class="delay-1">IMAP uses flags to track message state ‚Äî synchronised across all devices.</p>
            <div class="card-grid cols-3 delay-2">
                <div class="card accent-left">
                    <h4><code>\Seen</code></h4>
                    <p class="text-muted">Message has been read.</p>
                </div>
                <div class="card success-left">
                    <h4><code>\Answered</code></h4>
                    <p class="text-muted">User has replied.</p>
                </div>
                <div class="card warning-left">
                    <h4><code>\Flagged</code></h4>
                    <p class="text-muted">Marked important/starred.</p>
                </div>
                <div class="card danger-left">
                    <h4><code>\Deleted</code></h4>
                    <p class="text-muted">Marked for deletion.</p>
                </div>
                <div class="card purple-left">
                    <h4><code>\Draft</code></h4>
                    <p class="text-muted">Work-in-progress draft.</p>
                </div>
                <div class="card">
                    <h4><code>\Recent</code></h4>
                    <p class="text-muted">New since last session.</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 21: POP3/IMAP QUIZ -->
        <div class="slide" data-slide="21">
            <h2 class="delay-1">üß† Verificare Cuno»ôtin»õe: POP3 & IMAP</h2>
            <div class="quiz-container delay-2">
                <div class="quiz-question">Which protocol for a user with both laptop and phone?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkQuiz(this, false)">A) POP3 ‚Äî it's simpler</div>
                    <div class="quiz-option" onclick="checkQuiz(this, true)">B) IMAP ‚Äî synchronises across devices</div>
                    <div class="quiz-option" onclick="checkQuiz(this, false)">C) Either ‚Äî same functionality</div>
                    <div class="quiz-option" onclick="checkQuiz(this, false)">D) SMTP ‚Äî handles all email</div>
                </div>
                <div class="quiz-feedback correct">‚úì Corect! IMAP keeps messages on server with full sync.</div>
                <div class="quiz-feedback incorrect">‚úó IMAP is correct for multi-device access.</div>
            </div>
        </div>

        <!-- SLIDE 22: SECTION - MIME -->
        <div class="slide section-slide" data-slide="22">
            <div class="section-number">Section 04</div>
            <h2>MIME Format</h2>
            <p class="section-desc">How email grew beyond plain text: attachments, HTML, and multimedia.</p>
        </div>

        <!-- SLIDE 23: MIME INTRO -->
        <div class="slide" data-slide="23">
            <h2 class="delay-1">üìé MIME ‚Äî Multipurpose Internet Mail Extensions</h2>
            <div class="story-box delay-2">
                <div class="story-title">üìú The 7-Bit Problem</div>
                <p>Original SMTP: 7-bit ASCII only. No accented characters, images, or attachments. MIME (RFC 2045-2049) solved this by encoding arbitrary content and describing its type.</p>
            </div>
            <div class="card-grid cols-2 delay-3">
                <div class="card accent-left">
                    <h4>MIME Enables</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li>Non-ASCII text (UTF-8)</li>
                        <li>File attachments</li>
                        <li>HTML email content</li>
                        <li>Multiple parts in one message</li>
                    </ul>
                </div>
                <div class="card success-left">
                    <h4>Key Headers</h4>
                    <div class="code-block" data-lang="mime" style="font-size: 0.85rem;">MIME-Version: 1.0
Content-Type: text/html
Content-Transfer-Encoding: base64</div>
                </div>
            </div>
        </div>

        <!-- SLIDE 24: CONTENT TYPES -->
        <div class="slide" data-slide="24">
            <h2 class="delay-1">üìã Common Content-Types</h2>
            <div class="table-container delay-2">
                <table>
                    <thead><tr><th>Content-Type</th><th>Description</th><th>Use</th></tr></thead>
                    <tbody>
                        <tr><td><code>text/plain</code></td><td>Plain text</td><td>Simple body</td></tr>
                        <tr><td><code>text/html</code></td><td>HTML content</td><td>Rich formatting</td></tr>
                        <tr><td><code>multipart/mixed</code></td><td>With attachments</td><td>Email + PDF</td></tr>
                        <tr><td><code>multipart/alternative</code></td><td>Same content, different formats</td><td>Text + HTML</td></tr>
                        <tr><td><code>application/pdf</code></td><td>PDF document</td><td>Attached file</td></tr>
                        <tr><td><code>image/png</code></td><td>PNG image</td><td>Attached/embedded</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- SLIDE 25: MULTIPART STRUCTURE -->
        <div class="slide" data-slide="25">
            <h2 class="delay-1">üì¶ Multipart Message Structure</h2>
            <div class="code-block delay-2" data-lang="mime" style="font-size: 0.85rem;">Content-Type: multipart/mixed; boundary="----=_Boundary"

<span class="comment">------=_Boundary</span>
Content-Type: text/plain; charset=utf-8

Please find the document attached.

<span class="comment">------=_Boundary</span>
Content-Type: application/pdf; name="report.pdf"
Content-Disposition: attachment; filename="report.pdf"
Content-Transfer-Encoding: base64

<span class="string">JVBERi0xLjQKJcOkw7zD...</span>

<span class="comment">------=_Boundary--</span></div>
            <div class="warning-box delay-3">
                <div class="warning-title">‚ö†Ô∏è Boundary Rules</div>
                <p>Each part starts with <code>--boundary</code>. Message ends with <code>--boundary--</code>. Boundary must not appear in content.</p>
            </div>
        </div>

        <!-- SLIDE 26: SECTION - SECURITY -->
        <div class="slide section-slide" data-slide="26">
            <div class="section-number">Section 05</div>
            <h2>Securitatea Email</h2>
            <p class="section-desc">SPF, DKIM, and DMARC: the triad protecting against spoofing.</p>
        </div>

        <!-- SLIDE 27: SECURITY CHALLENGES -->
        <div class="slide" data-slide="27">
            <h2 class="delay-1">üõ°Ô∏è Email Security Challenges</h2>
            <p class="delay-1">Email was designed in an era of implicit trust.</p>
            <div class="card-grid cols-2 delay-2">
                <div class="card danger-left">
                    <h4>Spoofing</h4>
                    <p class="text-muted">Anyone can set any From: header. Without verification, sender identity is untrusted.</p>
                </div>
                <div class="card danger-left">
                    <h4>Phishing</h4>
                    <p class="text-muted">Malicious emails impersonating trusted entities to steal credentials.</p>
                </div>
                <div class="card warning-left">
                    <h4>Interception</h4>
                    <p class="text-muted">Without encryption, email content travels in plaintext.</p>
                </div>
                <div class="card warning-left">
                    <h4>Spam</h4>
                    <p class="text-muted">~45% of all email is unsolicited bulk mail.</p>
                </div>
            </div>
            <div class="highlight-box delay-3">
                <strong>The Solution Stack:</strong> <strong>SPF</strong> (who can send), <strong>DKIM</strong> (message integrity), <strong>DMARC</strong> (policy enforcement).
            </div>
        </div>

        <!-- SLIDE 28: SPF -->
        <div class="slide" data-slide="28">
            <h2 class="delay-1">üìã SPF ‚Äî Sender Policy Framework</h2>
            <div class="definition-box delay-2">
                <div class="term">RFC 7208</div>
                <p>SPF specifies which mail servers are authorised to send email for a domain. Receivers check sender IP against DNS record.</p>
            </div>
            <div class="code-block delay-3" data-lang="dns">example.com. IN TXT "v=spf1 
  ip4:192.0.2.0/24 
  include:_spf.google.com 
  -all"</div>
            <div class="card-grid cols-2 delay-4">
                <div class="card accent-left">
                    <h4>Mechanisms</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li><code>ip4:</code> ‚Äî Match IPv4 address</li>
                        <li><code>include:</code> ‚Äî Include another SPF</li>
                        <li><code>mx</code> ‚Äî Match MX servers</li>
                        <li><code>-all</code> ‚Äî Hard fail for others</li>
                    </ul>
                </div>
                <div class="card success-left">
                    <h4>Results</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>pass</strong> ‚Äî IP authorised</li>
                        <li><strong>fail</strong> ‚Äî IP not authorised</li>
                        <li><strong>softfail</strong> ‚Äî Probably not authorised</li>
                        <li><strong>neutral</strong> ‚Äî No statement</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SLIDE 29: DKIM -->
        <div class="slide" data-slide="29">
            <h2 class="delay-1">üîè DKIM ‚Äî DomainKeys Identified Mail</h2>
            <div class="definition-box delay-2">
                <div class="term">RFC 6376</div>
                <p>DKIM adds a cryptographic signature to email headers, verifying the message was sent by an authorised server and wasn't modified.</p>
            </div>
            <div class="card-grid cols-2 delay-3">
                <div class="card accent-left">
                    <h4>How It Works</h4>
                    <ol style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li>Server signs headers + body hash</li>
                        <li>Signature added as DKIM-Signature header</li>
                        <li>Public key published in DNS</li>
                        <li>Receiver verifies with public key</li>
                    </ol>
                </div>
                <div class="card">
                    <h4>DKIM Header</h4>
                    <div class="code-block" data-lang="headers" style="font-size: 0.8rem;">DKIM-Signature: v=1; a=rsa-sha256; 
  d=example.com; s=selector1;
  h=from:to:subject:date;
  b=dzdVyOfAKCdLX...</div>
                </div>
            </div>
        </div>

        <!-- SLIDE 30: DMARC -->
        <div class="slide" data-slide="30">
            <h2 class="delay-1">üéØ DMARC ‚Äî Domain-based Message Authentication</h2>
            <div class="definition-box delay-2">
                <div class="term">RFC 7489</div>
                <p>DMARC ties SPF and DKIM together by checking "alignment" ‚Äî whether From: header matches domains verified by SPF/DKIM. Also specifies policy on failure.</p>
            </div>
            <div class="card-grid cols-3 delay-3">
                <div class="card accent-left">
                    <h4><code>p=none</code></h4>
                    <p class="text-muted">Monitor only, send reports.</p>
                </div>
                <div class="card warning-left">
                    <h4><code>p=quarantine</code></h4>
                    <p class="text-muted">Mark as suspicious (spam).</p>
                </div>
                <div class="card danger-left">
                    <h4><code>p=reject</code></h4>
                    <p class="text-muted">Outright reject failing messages.</p>
                </div>
            </div>
            <div class="code-block delay-4" data-lang="dns">_dmarc.example.com. IN TXT "v=DMARC1; p=quarantine; 
  rua=mailto:dmarc-reports@example.com"</div>
        </div>

        <!-- SLIDE 31: SECURITY QUIZ -->
        <div class="slide" data-slide="31">
            <h2 class="delay-1">üß† Verificare Cuno»ôtin»õe: Security</h2>
            <div class="quiz-container delay-2">
                <div class="quiz-question">Which mechanism verifies email wasn't tampered with?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkQuiz(this, false)">A) SPF ‚Äî checks authorised senders</div>
                    <div class="quiz-option" onclick="checkQuiz(this, true)">B) DKIM ‚Äî cryptographic signature</div>
                    <div class="quiz-option" onclick="checkQuiz(this, false)">C) DMARC ‚Äî policy enforcement</div>
                    <div class="quiz-option" onclick="checkQuiz(this, false)">D) TLS ‚Äî encryption in transit</div>
                </div>
                <div class="quiz-feedback correct">‚úì Corect! DKIM signs the message for integrity verification.</div>
                <div class="quiz-feedback incorrect">‚úó DKIM provides message integrity through signatures.</div>
            </div>
        </div>

        <!-- SLIDE 32: SECTION - MODERN -->
        <div class="slide section-slide" data-slide="32">
            <div class="section-number">Section 06</div>
            <h2>Modern Email</h2>
            <p class="section-desc">WebMail, APIs, and the evolution of email infrastructure.</p>
        </div>

        <!-- SLIDE 33: WEBMAIL -->
        <div class="slide" data-slide="33">
            <h2 class="delay-1">üåê Arhitectura WebMail</h2>
            <p class="delay-1">Web-based email clients run in browser, communicating via HTTP/HTTPS.</p>
            <div class="card-grid cols-2 delay-2">
                <div class="card accent-left">
                    <h4>Traditional WebMail</h4>
                    <p class="text-muted">Uses IMAP for mail store, SMTP for sending. Backend translates HTTP to mail protocols.</p>
                </div>
                <div class="card success-left">
                    <h4>Modern Approach</h4>
                    <p class="text-muted">Proprietary APIs (Gmail API, Microsoft Graph) with REST/GraphQL. Better performance, but vendor lock-in.</p>
                </div>
            </div>
            <div class="highlight-box delay-3">
                <strong>Transactional Email Services:</strong> For programmatic sending, use SendGrid, Mailgun, AWS SES, or Postmark ‚Äî they offer better deliverability and tracking.
            </div>
        </div>

        <!-- SLIDE 34: TRENDS -->
        <div class="slide" data-slide="34">
            <h2 class="delay-1">üîÆ Emerging Trends</h2>
            <div class="card-grid cols-2 delay-2">
                <div class="card accent-left">
                    <h4>BIMI</h4>
                    <p class="text-muted"><strong>Brand Indicators for Message Identification</strong> ‚Äî Display verified logos. Requires DMARC.</p>
                </div>
                <div class="card success-left">
                    <h4>MTA-STS</h4>
                    <p class="text-muted"><strong>SMTP Strict Transport Security</strong> ‚Äî Enforces TLS between servers.</p>
                </div>
                <div class="card purple-left">
                    <h4>AMP for Email</h4>
                    <p class="text-muted">Google's interactive format: forms, carousels, dynamic content in inbox.</p>
                </div>
                <div class="card warning-left">
                    <h4>AI Filtering</h4>
                    <p class="text-muted">ML models classify spam, phishing, and priority with increasing accuracy.</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 35: DEBUGGING -->
        <div class="slide" data-slide="35">
            <h2 class="delay-1">üîß Debugging Email Delivery</h2>
            <div class="card-grid cols-2 delay-2">
                <div class="card accent-left">
                    <h4>Step 1: Check Headers</h4>
                    <p class="text-muted">View full headers. Trace Received: chain from bottom to top.</p>
                </div>
                <div class="card success-left">
                    <h4>Step 2: Verify DNS</h4>
                    <p class="text-muted">Check MX, SPF, DKIM, DMARC records with dig or MXToolbox.</p>
                </div>
                <div class="card warning-left">
                    <h4>Step 3: Test SMTP</h4>
                    <p class="text-muted">Connect with telnet/openssl. Send test messages.</p>
                </div>
                <div class="card purple-left">
                    <h4>Step 4: Check Logs</h4>
                    <p class="text-muted">Server logs show attempts, rejections, and queue status.</p>
                </div>
            </div>
            <div class="code-block delay-3" data-lang="bash"><span class="comment"># Check MX records</span>
dig MX example.com +short

<span class="comment"># Check SPF record</span>
dig TXT example.com +short | grep spf

<span class="comment"># Test SMTP connection</span>
openssl s_client -starttls smtp -connect mail.example.com:587</div>
        </div>

        <!-- SLIDE 36: COMMON PITFALLS -->
        <div class="slide" data-slide="36">
            <h2 class="delay-1">‚ö†Ô∏è Common Pitfalls</h2>
            <div class="card-grid cols-2 delay-2">
                <div class="insight-box" style="margin: 0;">
                    <div class="insight-title">From Header = Real Sender?</div>
                    <p>No! From: can say anything. Check envelope and authentication results.</p>
                </div>
                <div class="insight-box" style="margin: 0;">
                    <div class="insight-title">Port 25 for Everything?</div>
                    <p>No! Port 25 is server-to-server. Use 587 for submission with auth.</p>
                </div>
                <div class="insight-box" style="margin: 0;">
                    <div class="insight-title">POP3 Syncs Everywhere?</div>
                    <p>No! POP3 downloads and deletes. Use IMAP for multi-device.</p>
                </div>
                <div class="insight-box" style="margin: 0;">
                    <div class="insight-title">TLS = Fully Secure?</div>
                    <p>No! TLS encrypts in transit, but servers store plaintext. Use E2E encryption for privacy.</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 37: KEY TAKEAWAYS -->
        <div class="slide" data-slide="37">
            <h2 class="delay-1">üìå Concluzii Cheie</h2>
            <div class="card-grid cols-2 delay-2">
                <div class="highlight-box">
                    <h4 style="margin-bottom: 0.5rem;">Architecture</h4>
                    <p>Email flows through <strong>MUA ‚Üí MTA ‚Üí MDA</strong>. DNS MX records direct messages correctly.</p>
                </div>
                <div class="highlight-box" style="background: var(--gradient-success);">
                    <h4 style="margin-bottom: 0.5rem;">Envelope vs Headers</h4>
                    <p>SMTP envelope handles <strong>routing</strong>. Message headers handle <strong>display</strong>. They can differ!</p>
                </div>
                <div class="highlight-box" style="background: var(--gradient-accent);">
                    <h4 style="margin-bottom: 0.5rem;">Protocols</h4>
                    <p><strong>SMTP</strong> sends. <strong>POP3</strong> downloads/deletes. <strong>IMAP</strong> keeps on server with sync.</p>
                </div>
                <div class="highlight-box" style="background: var(--gradient-purple);">
                    <h4 style="margin-bottom: 0.5rem;">Security</h4>
                    <p><strong>SPF</strong> checks sender IP. <strong>DKIM</strong> verifies integrity. <strong>DMARC</strong> enforces policy.</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 38: NEXT WEEK -->
        <div class="slide" data-slide="38">
            <h2 class="delay-1">üëÄ UrmƒÉtorul Week Preview</h2>
            <p class="delay-1 text-muted">Week 13: IoT & Network Security</p>
            <div class="card-grid cols-2 delay-2">
                <div class="card accent-left">
                    <h4>Lecture Topics</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li>IoT protocols (MQTT, CoAP)</li>
                        <li>Network security fundamentals</li>
                        <li>Firewall concepts</li>
                        <li>VPN technologies</li>
                    </ul>
                </div>
                <div class="card success-left">
                    <h4>Seminar Activities</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li>Port scanning with nmap</li>
                        <li>Vulnerability assessment</li>
                        <li>Traffic analysis with Wireshark</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SLIDE 39: REFERENCES -->
        <div class="slide" data-slide="39">
            <h2 class="delay-1">üìö Referin»õe</h2>
            <div class="card-grid cols-2 delay-2">
                <div class="card">
                    <h4>Core RFCs</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li><strong>RFC 5321</strong> ‚Äî SMTP</li>
                        <li><strong>RFC 5322</strong> ‚Äî Message Format</li>
                        <li><strong>RFC 1939</strong> ‚Äî POP3</li>
                        <li><strong>RFC 3501</strong> ‚Äî IMAP</li>
                        <li><strong>RFC 2045-2049</strong> ‚Äî MIME</li>
                        <li><strong>RFC 7208</strong> ‚Äî SPF</li>
                        <li><strong>RFC 6376</strong> ‚Äî DKIM</li>
                        <li><strong>RFC 7489</strong> ‚Äî DMARC</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Textbooks</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li>Kurose & Ross (2021). <em>Computer Networking</em>, 8th Ed. ‚Äî Ch 2.4</li>
                        <li>Rhodes & Goetzen (2014). <em>Foundations of Python Network Programming</em></li>
                    </ul>
                    <h4 class="mt-2">Online Resources</h4>
                    <ul style="margin-left: 1.25rem; color: var(--text-muted);">
                        <li>MXToolbox ‚Äî Email diagnostics</li>
                        <li>DMARC Analyzer ‚Äî Policy testing</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SLIDE 40: FINAL QUIZ -->
        <div class="slide" data-slide="40">
            <h2 class="delay-1">üéì Final Verificare Cuno»ôtin»õe</h2>
            <div class="quiz-container delay-2">
                <div class="quiz-question">A user reports emails arrive on phone but not laptop. Both use IMAP. What's the issue?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkQuiz(this, false)">A) Phone downloaded and deleted (POP3)</div>
                    <div class="quiz-option" onclick="checkQuiz(this, false)">B) IMAP doesn't sync between devices</div>
                    <div class="quiz-option" onclick="checkQuiz(this, true)">C) Laptop client configuration issue</div>
                    <div class="quiz-option" onclick="checkQuiz(this, false)">D) Server deleted messages after phone access</div>
                </div>
                <div class="quiz-feedback correct">‚úì Corect! IMAP syncs ‚Äî if phone sees emails, so should laptop. Check laptop config.</div>
                <div class="quiz-feedback incorrect">‚úó With IMAP, both devices should see the same messages. Check client configuration.</div>
            </div>
        </div>

        <!-- SLIDE 41: THANK YOU -->
        <div class="slide title-slide" data-slide="41">
            <h1 class="delay-1">√éntrebƒÉri?</h1>
            <p class="subtitle delay-2">Thank you for your attention!</p>
            <div class="meta delay-3">
                <p>üìß Protocoale Email: SMTP ‚Ä¢ POP3 ‚Ä¢ IMAP ‚Ä¢ WebMail</p>
                <p style="margin-top: 1rem;">Starterkit: <code>WEEK12/exercises/</code></p>
                <p style="margin-top: 1rem; color: var(--accent);">UrmƒÉtorul: Week 13 ‚Äî IoT & Network Security</p>
            </div>
        </div>

    </div>

    <!-- Navigation -->
    <div class="navigation">
        <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">‚Üê</button>
        <button class="nav-btn" id="tocBtn" onclick="toggleTOC()">‚ò∞</button>
        <button class="nav-btn" id="fullscreenBtn" onclick="toggleFullscreen()">‚õ∂</button>
        <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">‚Üí</button>
    </div>

    <!-- TOC Modal -->
    <div class="toc-modal" id="tocModal">
        <div class="toc-content">
            <button class="toc-close" onclick="toggleTOC()">√ó</button>
            <h3>üìã Cuprins</h3>
            <div class="toc-section">
                <div class="toc-section-title">Introducere</div>
                <div class="toc-item" onclick="goToSlide(1)"><span class="toc-num">01</span> Title</div>
                <div class="toc-item" onclick="goToSlide(2)"><span class="toc-num">02</span> The Protocol That Refuses to Die</div>
                <div class="toc-item" onclick="goToSlide(3)"><span class="toc-num">03</span> Obiective de √énvƒÉ»õare</div>
                <div class="toc-item" onclick="goToSlide(4)"><span class="toc-num">04</span> Today's Journey</div>
            </div>
            <div class="toc-section">
                <div class="toc-section-title">Section 1: Architecture</div>
                <div class="toc-item" onclick="goToSlide(5)"><span class="toc-num">05</span> Arhitectura Email</div>
                <div class="toc-item" onclick="goToSlide(6)"><span class="toc-num">06</span> Email Ecosystem</div>
                <div class="toc-item" onclick="goToSlide(7)"><span class="toc-num">07</span> Journey of an Email</div>
                <div class="toc-item" onclick="goToSlide(8)"><span class="toc-num">08</span> Envelope vs Headers</div>
            </div>
            <div class="toc-section">
                <div class="toc-section-title">Section 2: SMTP</div>
                <div class="toc-item" onclick="goToSlide(9)"><span class="toc-num">09</span> Protocolul SMTP</div>
                <div class="toc-item" onclick="goToSlide(10)"><span class="toc-num">10</span> SMTP Introduction</div>
                <div class="toc-item" onclick="goToSlide(11)"><span class="toc-num">11</span> SMTP Commands</div>
                <div class="toc-item" onclick="goToSlide(12)"><span class="toc-num">12</span> Response Codes</div>
                <div class="toc-item" onclick="goToSlide(13)"><span class="toc-num">13</span> Complete Session</div>
                <div class="toc-item" onclick="goToSlide(14)"><span class="toc-num">14</span> SMTP Quiz</div>
            </div>
            <div class="toc-section">
                <div class="toc-section-title">Section 3: POP3 & IMAP</div>
                <div class="toc-item" onclick="goToSlide(15)"><span class="toc-num">15</span> POP3 & IMAP</div>
                <div class="toc-item" onclick="goToSlide(16)"><span class="toc-num">16</span> POP3</div>
                <div class="toc-item" onclick="goToSlide(17)"><span class="toc-num">17</span> POP3 Commands</div>
                <div class="toc-item" onclick="goToSlide(18)"><span class="toc-num">18</span> IMAP</div>
                <div class="toc-item" onclick="goToSlide(19)"><span class="toc-num">19</span> POP3 vs IMAP</div>
                <div class="toc-item" onclick="goToSlide(20)"><span class="toc-num">20</span> IMAP Flags</div>
                <div class="toc-item" onclick="goToSlide(21)"><span class="toc-num">21</span> POP3/IMAP Quiz</div>
            </div>
            <div class="toc-section">
                <div class="toc-section-title">Section 4: MIME</div>
                <div class="toc-item" onclick="goToSlide(22)"><span class="toc-num">22</span> MIME Format</div>
                <div class="toc-item" onclick="goToSlide(23)"><span class="toc-num">23</span> MIME Introduction</div>
                <div class="toc-item" onclick="goToSlide(24)"><span class="toc-num">24</span> Content-Types</div>
                <div class="toc-item" onclick="goToSlide(25)"><span class="toc-num">25</span> Multipart Structure</div>
            </div>
            <div class="toc-section">
                <div class="toc-section-title">Section 5: Security</div>
                <div class="toc-item" onclick="goToSlide(26)"><span class="toc-num">26</span> Email Security</div>
                <div class="toc-item" onclick="goToSlide(27)"><span class="toc-num">27</span> Security Challenges</div>
                <div class="toc-item" onclick="goToSlide(28)"><span class="toc-num">28</span> SPF</div>
                <div class="toc-item" onclick="goToSlide(29)"><span class="toc-num">29</span> DKIM</div>
                <div class="toc-item" onclick="goToSlide(30)"><span class="toc-num">30</span> DMARC</div>
                <div class="toc-item" onclick="goToSlide(31)"><span class="toc-num">31</span> Security Quiz</div>
            </div>
            <div class="toc-section">
                <div class="toc-section-title">Section 6: Modern Email</div>
                <div class="toc-item" onclick="goToSlide(32)"><span class="toc-num">32</span> Modern Email</div>
                <div class="toc-item" onclick="goToSlide(33)"><span class="toc-num">33</span> WebMail</div>
                <div class="toc-item" onclick="goToSlide(34)"><span class="toc-num">34</span> Emerging Trends</div>
                <div class="toc-item" onclick="goToSlide(35)"><span class="toc-num">35</span> Debugging</div>
                <div class="toc-item" onclick="goToSlide(36)"><span class="toc-num">36</span> Common Pitfalls</div>
            </div>
            <div class="toc-section">
                <div class="toc-section-title">Wrap-up</div>
                <div class="toc-item" onclick="goToSlide(37)"><span class="toc-num">37</span> Concluzii Cheie</div>
                <div class="toc-item" onclick="goToSlide(38)"><span class="toc-num">38</span> UrmƒÉtorul Week</div>
                <div class="toc-item" onclick="goToSlide(39)"><span class="toc-num">39</span> Referin»õe</div>
                <div class="toc-item" onclick="goToSlide(40)"><span class="toc-num">40</span> Final Quiz</div>
                <div class="toc-item" onclick="goToSlide(41)"><span class="toc-num">41</span> Thank You</div>
            </div>
        </div>
    </div>

    <script>
        // Slide navigation
        let currentSlide = 1;
        const totalSlides = document.querySelectorAll('.slide').length;

        function updateSlide() {
            document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
            const slide = document.querySelector(`[data-slide="${currentSlide}"]`);
            if (slide) slide.classList.add('active');
            
            document.getElementById('slideCounter').textContent = `${currentSlide} / ${totalSlides}`;
            document.getElementById('progressBar').style.width = `${(currentSlide / totalSlides) * 100}%`;
            
            document.getElementById('prevBtn').disabled = currentSlide === 1;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides;
        }

        function changeSlide(delta) {
            const newSlide = currentSlide + delta;
            if (newSlide >= 1 && newSlide <= totalSlides) {
                currentSlide = newSlide;
                updateSlide();
            }
        }

        function goToSlide(n) {
            currentSlide = n;
            updateSlide();
            toggleTOC();
        }

        function toggleTOC() {
            document.getElementById('tocModal').classList.toggle('show');
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') changeSlide(1);
            else if (e.key === 'ArrowLeft') changeSlide(-1);
            else if (e.key === 'f' || e.key === 'F') toggleFullscreen();
            else if (e.key === 't' || e.key === 'T') toggleTOC();
            else if (e.key === 'Home') { currentSlide = 1; updateSlide(); }
            else if (e.key === 'End') { currentSlide = totalSlides; updateSlide(); }
            else if (e.key === 'Escape') document.getElementById('tocModal').classList.remove('show');
        });

        // Quiz functionality
        function checkQuiz(element, isCorrect) {
            const container = element.closest('.quiz-container');
            container.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('correct', 'incorrect', 'selected');
            });
            element.classList.add(isCorrect ? 'correct' : 'incorrect');
            
            container.querySelectorAll('.quiz-feedback').forEach(fb => fb.classList.remove('show'));
            container.querySelector(`.quiz-feedback.${isCorrect ? 'correct' : 'incorrect'}`).classList.add('show');
        }

        // Reveal functionality
        function toggleReveal(btn) {
            const content = btn.nextElementSibling;
            content.classList.toggle('show');
            btn.textContent = content.classList.contains('show') ? 'üîº Hide' : 'üí° Show More Sfats';
        }

        // Initialize
        updateSlide();
    </script>
</body>
</html>
