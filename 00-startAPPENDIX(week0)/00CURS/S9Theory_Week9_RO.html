<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Revolvix">
    <title>SƒÉptƒÉm√¢na 9: Nivelul Sesiune »ôi Nivelul Prezentare | Re»õele de Calculatoare</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Source+Serif+4:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0f172a;
            --primary-light: #1e293b;
            --secondary: #0ea5e9;
            --secondary-dark: #0284c7;
            --accent: #f59e0b;
            --accent-warm: #ea580c;
            --success: #10b981;
            --success-dark: #059669;
            --danger: #ef4444;
            --purple: #8b5cf6;
            --purple-dark: #7c3aed;
            --bg-light: #f8fafc;
            --bg-cool: #f0f9ff;
            --bg-warm: #fffbeb;
            --text-dark: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --text-on-dark: #f1f5f9;
            --text-on-dark-muted: #cbd5e1;
            --gradient-primary: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            --gradient-secondary: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.7;
            overflow: hidden;
        }
        h1, h2, h3, h4, h5 { font-family: 'Source Serif 4', Georgia, serif; }
        .presentation { width: 100vw; height: 100vh; position: relative; overflow: hidden; }
        .slide {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            padding: 4rem 4rem 5rem;
            display: none;
            flex-direction: column;
            background: var(--bg-light);
            overflow-y: auto;
        }
        .slide.active {
            display: flex;
            animation: slideIn 0.45s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .title-slide {
            background: var(--gradient-primary);
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .title-slide h1 { font-size: 3rem; color: #ffffff; margin-bottom: 1rem; font-weight: 700; }
        .title-slide p { color: var(--text-on-dark); font-size: 1.4rem; max-width: 800px; }
        .title-slide .subtitle { color: var(--text-on-dark-muted); font-size: 1.1rem; margin-top: 2rem; }
        .section-slide {
            background: var(--gradient-secondary);
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .section-slide h1 { font-size: 2.6rem; color: #ffffff; margin-bottom: 1rem; }
        .section-slide p { color: var(--text-on-dark); font-size: 1.2rem; }
        .section-slide .section-number { color: var(--text-on-dark-muted); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 3px; margin-bottom: 1rem; }
        .slide h2 {
            font-size: 1.9rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 3px solid var(--secondary);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .slide h3 { font-size: 1.3rem; color: var(--primary); margin: 1rem 0 0.75rem; font-weight: 600; }
        .slide h4 { font-size: 1.1rem; color: var(--primary-light); margin: 0.75rem 0 0.5rem; }
        .slide p { font-size: 1.1rem; margin: 0.6rem 0; max-width: 1100px; }
        .slide ul, .slide ol { font-size: 1.05rem; margin-left: 1.5rem; margin-top: 0.5rem; }
        .slide li { margin: 0.4rem 0; }
        .highlight-box {
            background: var(--gradient-secondary);
            color: var(--text-on-dark);
            padding: 1.25rem 1.5rem;
            border-radius: 16px;
            margin: 1rem 0;
            box-shadow: 0 4px 15px rgba(14, 165, 233, 0.2);
        }
        .highlight-box strong { color: #ffffff; }
        .definition-box {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.08) 0%, rgba(5, 150, 105, 0.05) 100%);
            border-left: 4px solid var(--success);
            padding: 1.25rem 1.5rem;
            border-radius: 0 16px 16px 0;
            margin: 1rem 0;
        }
        .definition-box .term { font-weight: 700; color: var(--success-dark); font-size: 1.05rem; }
        .story-box {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.08) 0%, rgba(124, 58, 237, 0.05) 100%);
            border-left: 4px solid var(--purple);
            padding: 1.25rem 1.5rem;
            border-radius: 0 16px 16px 0;
            margin: 1rem 0;
        }
        .story-box .story-title { font-weight: 600; color: var(--purple-dark); margin-bottom: 0.5rem; }
        .warning-box {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(234, 88, 12, 0.05) 100%);
            border-left: 4px solid var(--accent);
            padding: 1.25rem 1.5rem;
            border-radius: 0 16px 16px 0;
            margin: 1rem 0;
        }
        .warning-box strong { color: var(--accent-warm); }
        .insight-box {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.08) 0%, rgba(220, 38, 38, 0.05) 100%);
            border-left: 4px solid var(--danger);
            padding: 1.25rem 1.5rem;
            border-radius: 0 16px 16px 0;
            margin: 1rem 0;
        }
        .insight-box strong { color: var(--danger); }
        pre, .code-block {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            padding: 1.25rem;
            border-radius: 12px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            overflow-x: auto;
            margin: 1rem 0;
            position: relative;
            white-space: pre;
            word-wrap: normal;
        }
        .code-block .keyword { color: #f472b6; }
        .code-block .function { color: #60a5fa; }
        .code-block .string { color: #a5f3fc; }
        .code-block .number { color: #fbbf24; }
        .code-block .comment { color: #6b7280; font-style: italic; }
        .code-block .type { color: #c084fc; }
        .code-block[data-lang]::before {
            content: attr(data-lang);
            position: absolute;
            top: 0.5rem; right: 0.75rem;
            font-size: 0.7rem;
            color: var(--text-on-dark-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        code {
            background: rgba(15, 23, 42, 0.08);
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85em;
            color: var(--primary);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.95rem;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        th {
            background: var(--gradient-primary);
            color: var(--text-on-dark);
            padding: 0.9rem 1rem;
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 0.5px;
        }
        th:first-child { border-radius: 12px 0 0 0; }
        th:last-child { border-radius: 0 12px 0 0; }
        td { padding: 0.8rem 1rem; border-bottom: 1px solid var(--border); background: white; }
        tr:hover td { background: var(--bg-cool); }
        tr:last-child td:first-child { border-radius: 0 0 0 12px; }
        tr:last-child td:last-child { border-radius: 0 0 12px 0; }
        .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 1rem 0; }
        .three-col { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin: 1rem 0; }
        .card {
            background: white;
            border-radius: 16px;
            padding: 1.25rem;
            border-left: 4px solid var(--secondary);
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .card:hover { transform: translateY(-4px); box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .card.accent { border-left-color: var(--accent); }
        .card.success { border-left-color: var(--success); }
        .card.danger { border-left-color: var(--danger); }
        .card.purple { border-left-color: var(--purple); }
        .card h4 { color: var(--primary); margin-bottom: 0.5rem; font-size: 1.05rem; }
        .quiz-container {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.08) 0%, rgba(234, 88, 12, 0.04) 100%);
            border: 2px solid var(--accent);
            border-radius: 16px;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        .quiz-question { font-size: 1.1rem; font-weight: 600; color: var(--primary); margin-bottom: 1rem; }
        .quiz-option {
            padding: 0.8rem 1rem;
            margin: 0.4rem 0;
            background: white;
            border: 2px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.95rem;
        }
        .quiz-option:hover { border-color: var(--secondary); background: var(--bg-cool); transform: translateX(4px); }
        .quiz-option.correct { border-color: var(--success); background: rgba(16, 185, 129, 0.15); }
        .quiz-option.incorrect { border-color: var(--danger); background: rgba(239, 68, 68, 0.15); }
        .quiz-feedback { display: none; margin-top: 1rem; padding: 1rem; border-radius: 10px; }
        .quiz-feedback.show { display: block; }
        .quiz-feedback.correct-fb { background: rgba(16, 185, 129, 0.15); border-left: 4px solid var(--success); }
        .quiz-feedback.incorrect-fb { background: rgba(239, 68, 68, 0.15); border-left: 4px solid var(--danger); }
        .reveal-btn {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
            border: none;
            padding: 0.7rem 1.3rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            transition: transform 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        .reveal-btn:hover { transform: scale(1.05); }
        .reveal-content { display: none; margin-top: 1rem; animation: fadeUp 0.4s ease; }
        .reveal-content.show { display: block; }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .interactive-panel {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
            margin: 1rem 0;
        }
        .interactive-panel h4 { color: var(--primary); margin-bottom: 1rem; }
        .slider-group { margin: 0.75rem 0; }
        .slider-group label { display: block; font-weight: 500; margin-bottom: 0.4rem; color: var(--text-dark); font-size: 0.95rem; }
        .slider-group input[type="range"] {
            width: 100%; height: 8px; border-radius: 4px;
            background: var(--border); outline: none; -webkit-appearance: none;
        }
        .slider-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px; height: 18px; border-radius: 50%;
            background: var(--secondary); cursor: pointer;
        }
        .result-display {
            background: var(--gradient-primary);
            color: #f1f5f9;
            padding: 1.25rem;
            border-radius: 12px;
            margin-top: 1rem;
            font-family: 'JetBrains Mono', monospace;
        }
        .result-display p, .result-display span, .result-display strong, .result-display code { color: #f1f5f9; }
        .result-display strong { color: #ffffff; }
        .diagram-container { margin: 1.5rem 0; text-align: center; }
        .diagram-container svg { max-width: 100%; min-height: 180px; }
        .protocol-header {
            display: flex; flex-wrap: wrap;
            border: 2px solid var(--primary);
            border-radius: 12px;
            overflow: hidden;
            margin: 1rem 0;
            background: white;
        }
        .header-field {
            flex: 1; min-width: 80px;
            padding: 0.75rem;
            border-right: 1px solid var(--border);
            text-align: center;
        }
        .header-field:last-child { border-right: none; }
        .header-field.span-2 { flex: 2; min-width: 160px; }
        .field-name { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; }
        .field-value { font-family: 'JetBrains Mono', monospace; font-weight: 600; color: var(--primary); font-size: 0.95rem; margin: 0.2rem 0; }
        .field-bits { font-size: 0.65rem; color: var(--secondary); }
        #progressBar {
            position: fixed; top: 0; left: 0;
            height: 4px;
            background: var(--gradient-secondary);
            z-index: 1001;
            transition: width 0.3s ease;
        }
        #slideCounter {
            position: fixed; top: 1rem; right: 1rem;
            background: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: var(--text-muted);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }
        #course-id {
            position: fixed; top: 1rem; left: 1rem;
            background: var(--gradient-primary);
            color: var(--text-on-dark);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            z-index: 1000;
        }
        .nav-controls {
            position: fixed; bottom: 2rem;
            left: 50%; transform: translateX(-50%);
            display: flex; align-items: center; gap: 1rem;
            background: white;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            z-index: 1000;
            border: 1px solid var(--border);
        }
        .nav-btn {
            background: var(--gradient-primary);
            color: white;
            border: none;
            width: 42px; height: 42px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s ease;
        }
        .nav-btn:hover:not(:disabled) { transform: scale(1.1); }
        .nav-btn:disabled { opacity: 0.4; cursor: not-allowed; }
        .nav-btn.toc-btn { background: var(--gradient-secondary); }
        .nav-btn.fullscreen-btn { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }
        .slide-footer {
            position: absolute; bottom: 1rem; left: 2rem;
            font-size: 0.75rem; color: var(--text-muted);
        }
        .toc-modal {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(4px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        .toc-modal.show { display: flex; }
        .toc-content {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .toc-content h2 { border-bottom: none; margin-bottom: 1.5rem; text-align: center; }
        .toc-section { margin: 1rem 0; }
        .toc-section h4 { color: var(--secondary); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.5rem; }
        .toc-item {
            padding: 0.5rem 0.75rem;
            margin: 0.2rem 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
        }
        .toc-item:hover { background: var(--bg-cool); transform: translateX(4px); }
        .toc-item span:last-child { color: var(--text-muted); font-family: 'JetBrains Mono', monospace; font-size: 0.8rem; }
        @media (max-width: 1200px) {
            .slide { padding: 3rem 3rem 5rem; }
            .two-col, .three-col { grid-template-columns: 1fr; }
        }
        @media (max-width: 768px) {
            .slide { padding: 2rem 2rem 5rem; }
            .slide h2 { font-size: 1.5rem; }
            .title-slide h1 { font-size: 2rem; }
        }
    </style>
</head>
<body>
    <div id="progressBar" style="width: 0%"></div>
    <div id="course-id">Re»õele de Calculatoare ‚Ä¢ Week 9</div>
    <div id="slideCounter">1 / 52</div>

    <div class="presentation">
        <!-- SLIDE 1: Title -->
        <div class="slide title-slide active" data-slide="1">
            <h1>Nivelul Sesiune (L5) &amp; Nivelul Prezentare (L6)</h1>
            <p>File Protocols, Data Representation, and the Art of Digital Dialogue</p>
            <p class="subtitle">Re»õele de Calculatoare ‚Ä¢ Week 9 of 14 ‚Ä¢ ASE-CSIE 2025</p>
            <p class="subtitle" style="margin-top: 1.5rem; font-size: 0.95rem;">Licen»õƒÉ InformaticƒÉ EconomicƒÉ ‚Ä¢ Anul 3 ‚Ä¢ Semestrul 2</p>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 2: Hook -->
        <div class="slide" data-slide="2">
            <h2>üéØ A Programmer's Mystery</h2>
            <div class="story-box">
                <div class="story-title">üîç The Case of the Corrupted Integer</div>
                <p>Your Python server sends <code>305419896</code> to a C client. The client receives <code>2018915346</code>. TCP checksum passes. No packet loss. What went wrong?</p>
            </div>
            <div class="two-col" style="margin-top: 1.5rem;">
                <div class="card accent">
                    <h4>The Clue</h4>
                    <p>305419896 in hex: <code>0x12345678</code></p>
                    <p>2018915346 in hex: <code>0x78563412</code></p>
                    <p style="margin-top: 0.5rem;"><strong>The bytes are reversed!</strong></p>
                </div>
                <div class="card purple">
                    <h4>The Culprit</h4>
                    <p>One system used <strong>big-endian</strong>, the other <strong>little-endian</strong>.</p>
                    <p style="margin-top: 0.5rem;">This is a <em>Nivelul Prezentare</em> problem!</p>
                </div>
            </div>
            <div class="highlight-box" style="margin-top: 1.5rem;">
                <strong>Today's Mission:</strong> Master the upper OSI layers that ensure applications understand each other‚Äîregardless of hardware, encoding, or session state.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 3: Obiective de √énvƒÉ»õare -->
        <div class="slide" data-slide="3">
            <h2>üìö Obiective de √énvƒÉ»õare</h2>
            <div class="two-col">
                <div>
                    <h3>By the end of this lecture, you will:</h3>
                    <ul>
                        <li><strong>Define</strong> the functions of Session (L5) and Presentation (L6) layers</li>
                        <li><strong>Differentiate</strong> between TCP connection and application session</li>
                        <li><strong>Explain</strong> byte order (endianness) and its network impact</li>
                        <li><strong>Describe</strong> serialisation formats and their trade-offs</li>
                        <li><strong>Implement</strong> a binary protocol header with framing</li>
                        <li><strong>Analyse</strong> FTP's control/data channel separation</li>
                    </ul>
                </div>
                <div>
                    <h3>Practical connections:</h3>
                    <div class="card success" style="margin-bottom: 1rem;">
                        <h4>üîß Starterkit Exerci»õius</h4>
                        <p><code>ex_9_01_endianness.py</code> ‚Äî Binary framing</p>
                        <p><code>ex_9_02_pseudo_ftp.py</code> ‚Äî Session management</p>
                    </div>
                    <div class="card accent">
                        <h4>üåê Real-World Skills</h4>
                        <p>JSON vs Protocol Buffers, JWT tokens, HTTP compression, TLS session resumption</p>
                    </div>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 4: Course Roadmap -->
        <div class="slide" data-slide="4">
            <h2>üó∫Ô∏è Unde Ne AflƒÉm √Æn Curs</h2>
            <div class="diagram-container">
                <svg viewBox="0 0 850 180" style="max-width: 900px; min-height: 160px;">
                    <line x1="50" y1="90" x2="800" y2="90" stroke="#e2e8f0" stroke-width="4" stroke-linecap="round"/>
                    <circle cx="100" cy="90" r="18" fill="#10b981"/>
                    <text x="100" y="94" text-anchor="middle" font-size="10" fill="white" font-weight="600">1-2</text>
                    <text x="100" y="125" text-anchor="middle" font-size="9" fill="#64748b">Fundamentals</text>
                    <circle cx="200" cy="90" r="18" fill="#10b981"/>
                    <text x="200" y="94" text-anchor="middle" font-size="10" fill="white" font-weight="600">3</text>
                    <text x="200" y="125" text-anchor="middle" font-size="9" fill="#64748b">Sockets</text>
                    <circle cx="300" cy="90" r="18" fill="#10b981"/>
                    <text x="300" y="94" text-anchor="middle" font-size="10" fill="white" font-weight="600">4-5</text>
                    <text x="300" y="125" text-anchor="middle" font-size="9" fill="#64748b">L2-L3</text>
                    <circle cx="400" cy="90" r="18" fill="#10b981"/>
                    <text x="400" y="94" text-anchor="middle" font-size="10" fill="white" font-weight="600">6-7</text>
                    <text x="400" y="125" text-anchor="middle" font-size="9" fill="#64748b">Routing</text>
                    <circle cx="500" cy="90" r="18" fill="#10b981"/>
                    <text x="500" y="94" text-anchor="middle" font-size="10" fill="white" font-weight="600">8</text>
                    <text x="500" y="125" text-anchor="middle" font-size="9" fill="#64748b">Transport</text>
                    <circle cx="600" cy="90" r="26" fill="#0ea5e9" stroke="#0284c7" stroke-width="3"/>
                    <text x="600" y="95" text-anchor="middle" font-size="13" fill="white" font-weight="700">9</text>
                    <text x="600" y="130" text-anchor="middle" font-size="10" fill="#0ea5e9" font-weight="600">Session &amp; Presentation</text>
                    <text x="600" y="60" text-anchor="middle" font-size="9" fill="#f59e0b" font-weight="600">‚Üê YOU ARE HERE</text>
                    <circle cx="700" cy="90" r="18" fill="#e2e8f0" stroke="#cbd5e1" stroke-width="2"/>
                    <text x="700" y="94" text-anchor="middle" font-size="10" fill="#64748b" font-weight="600">10-12</text>
                    <text x="700" y="125" text-anchor="middle" font-size="9" fill="#94a3b8">Application</text>
                    <circle cx="780" cy="90" r="14" fill="#e2e8f0" stroke="#cbd5e1" stroke-width="2"/>
                    <text x="780" y="94" text-anchor="middle" font-size="9" fill="#64748b">13+</text>
                </svg>
            </div>
            <div class="highlight-box">
                <strong>Context:</strong> Having mastered TCP/UDP (L4), we now ascend to upper layers handling dialogue management and data representation‚Äîthe bridge between raw transport and application logic.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 5: Section - Nivelul Sesiune -->
        <div class="slide section-slide" data-slide="5">
            <div class="section-number">Part I</div>
            <h1>The Nivelul Sesiune (L5)</h1>
            <p>Managing Dialogue Between Applications</p>
            <div class="slide-footer" style="color: rgba(255,255,255,0.5);">by Revolvix</div>
        </div>

        <!-- SLIDE 6: OSI Context -->
        <div class="slide" data-slide="6">
            <h2>üìä Modelul OSI: Upper Layers</h2>
            <div class="two-col">
                <div>
                    <div class="diagram-container">
                        <svg viewBox="0 0 350 280" style="max-width: 380px; min-height: 260px;">
                            <rect x="30" y="15" width="260" height="35" rx="6" fill="#e2e8f0" stroke="#cbd5e1" stroke-width="2"/>
                            <text x="160" y="38" text-anchor="middle" font-size="12" fill="#64748b" font-weight="600">L7 Application</text>
                            <rect x="30" y="55" width="260" height="35" rx="6" fill="#ddd6fe" stroke="#8b5cf6" stroke-width="3"/>
                            <text x="160" y="78" text-anchor="middle" font-size="12" fill="#7c3aed" font-weight="700">L6 Presentation</text>
                            <rect x="30" y="95" width="260" height="35" rx="6" fill="#bae6fd" stroke="#0ea5e9" stroke-width="3"/>
                            <text x="160" y="118" text-anchor="middle" font-size="12" fill="#0284c7" font-weight="700">L5 Session</text>
                            <rect x="30" y="135" width="260" height="35" rx="6" fill="#bbf7d0" stroke="#22c55e" stroke-width="2"/>
                            <text x="160" y="158" text-anchor="middle" font-size="12" fill="#15803d" font-weight="600">L4 Transport (TCP/UDP)</text>
                            <rect x="30" y="175" width="260" height="35" rx="6" fill="#e2e8f0" stroke="#cbd5e1" stroke-width="2"/>
                            <text x="160" y="198" text-anchor="middle" font-size="12" fill="#64748b" font-weight="600">L3 Network (IP)</text>
                            <rect x="30" y="215" width="260" height="30" rx="6" fill="#f1f5f9" stroke="#e2e8f0" stroke-width="2"/>
                            <text x="160" y="235" text-anchor="middle" font-size="11" fill="#94a3b8">L2-L1 Data Link &amp; Physical</text>
                            <path d="M 300 25 Q 320 75 300 125" fill="none" stroke="#f59e0b" stroke-width="2"/>
                            <text x="330" y="75" font-size="10" fill="#f59e0b" font-weight="600">Upper</text>
                            <text x="330" y="88" font-size="10" fill="#f59e0b" font-weight="600">Layers</text>
                        </svg>
                    </div>
                </div>
                <div>
                    <div class="definition-box">
                        <div class="term">Nivelul Sesiune (L5)</div>
                        <p>Manages and coordinates communication between applications, providing mechanisms for establishing, maintaining, and terminating dialogue sessions.</p>
                    </div>
                    <h4 style="margin-top: 1rem;">Primary Functions:</h4>
                    <ul>
                        <li>Session establishment and termination</li>
                        <li>Synchronisation and checkpointing</li>
                        <li>Dialogue control (who speaks when)</li>
                        <li>Token management for exclusive access</li>
                    </ul>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 7: Context Istoric -->
        <div class="slide" data-slide="7">
            <h2>üìú Context Istoric: Why L5 Exists</h2>
            <div class="story-box">
                <div class="story-title">üï∞Ô∏è The 1970s Problem</div>
                <p>Early networks connected mainframes with terminals. A user session might involve multiple data transfers, each requiring separate connections. How do you maintain context? How do you resume after a network hiccup?</p>
            </div>
            <div class="two-col" style="margin-top: 1rem;">
                <div>
                    <h3>The OSI Vision (1984)</h3>
                    <ul>
                        <li>ISO defined seven clean layers</li>
                        <li>L5 would handle all session semantics</li>
                        <li>Protocols like X.225 (ISO 8327) designed</li>
                        <li>Intended for banking, reservations, databases</li>
                    </ul>
                </div>
                <div>
                    <h3>The Internet Reality</h3>
                    <ul>
                        <li>TCP/IP won the protocol wars</li>
                        <li>No explicit Session layer in TCP/IP model</li>
                        <li>Session functions absorbed into applications</li>
                        <li>HTTP, FTP, SMTP each handle sessions differently</li>
                    </ul>
                </div>
            </div>
            <div class="warning-box" style="margin-top: 1rem;">
                <strong>Modern Relevance:</strong> Although no "pure" L5 protocols dominate today, understanding session concepts is crucial for designing stateful applications, REST APIs with tokens, and WebSocket connections.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 8: Connection vs Session -->
        <div class="slide" data-slide="8">
            <h2>üîå Connection ‚â† Session</h2>
            <p>One of the most important distinctions in network programming:</p>
            <table style="margin-top: 1rem;">
                <thead>
                    <tr><th>Aspect</th><th>TCP Connection (L4)</th><th>Application Session (L5)</th></tr>
                </thead>
                <tbody>
                    <tr><td><strong>Defini»õie</strong></td><td>Bidirectional byte stream between endpoints</td><td>Logical conversation with maintained context</td></tr>
                    <tr><td><strong>Establishment</strong></td><td>3-way handshake (SYN, SYN-ACK, ACK)</td><td>Authentication, authorisation, context setup</td></tr>
                    <tr><td><strong>Lifetime</strong></td><td>Until FIN or RST</td><td>Until logout, timeout, or explicit end</td></tr>
                    <tr><td><strong>State</strong></td><td>Sequence numbers, window size</td><td>User identity, permissions, current directory</td></tr>
                    <tr><td><strong>Multiplicity</strong></td><td>One pipe per connection</td><td>May span multiple connections</td></tr>
                </tbody>
            </table>
            <div class="highlight-box" style="margin-top: 1rem;">
                <strong>Key Insight:</strong> FTP uses <em>two</em> TCP connections (control + data) within a <em>single</em> session. HTTP/1.0 created new connection per request but HTTP/2 multiplexes within one connection.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>
        <!-- SLIDE 9: Session Lifecycle -->
        <div class="slide" data-slide="9">
            <h2>üìà Session Lifecycle</h2>
            <div class="diagram-container">
                <svg viewBox="0 0 750 200" style="max-width: 800px; min-height: 180px;">
                    <rect x="20" y="80" width="100" height="50" rx="8" fill="#e2e8f0" stroke="#94a3b8" stroke-width="2"/>
                    <text x="70" y="110" text-anchor="middle" font-size="12" font-weight="600" fill="#475569">IDLE</text>
                    <rect x="160" y="80" width="110" height="50" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
                    <text x="215" y="105" text-anchor="middle" font-size="11" font-weight="600" fill="#92400e">CONNECTING</text>
                    <text x="215" y="118" text-anchor="middle" font-size="9" fill="#a16207">(authenticating)</text>
                    <rect x="310" y="80" width="110" height="50" rx="8" fill="#bbf7d0" stroke="#22c55e" stroke-width="3"/>
                    <text x="365" y="110" text-anchor="middle" font-size="12" font-weight="700" fill="#166534">ESTABLISHED</text>
                    <rect x="460" y="80" width="100" height="50" rx="8" fill="#bae6fd" stroke="#0ea5e9" stroke-width="2"/>
                    <text x="510" y="105" text-anchor="middle" font-size="11" font-weight="600" fill="#0369a1">ACTIVE</text>
                    <text x="510" y="118" text-anchor="middle" font-size="9" fill="#0284c7">(transferring)</text>
                    <rect x="600" y="80" width="80" height="50" rx="8" fill="#fecaca" stroke="#ef4444" stroke-width="2"/>
                    <text x="640" y="110" text-anchor="middle" font-size="11" font-weight="600" fill="#b91c1c">CLOSED</text>
                    <line x1="120" y1="105" x2="155" y2="105" stroke="#64748b" stroke-width="2" marker-end="url(#arrow1)"/>
                    <line x1="270" y1="105" x2="305" y2="105" stroke="#64748b" stroke-width="2" marker-end="url(#arrow1)"/>
                    <line x1="420" y1="100" x2="455" y2="100" stroke="#64748b" stroke-width="2" marker-end="url(#arrow1)"/>
                    <line x1="455" y1="115" x2="420" y2="115" stroke="#64748b" stroke-width="2" marker-end="url(#arrow1)"/>
                    <line x1="560" y1="105" x2="595" y2="105" stroke="#64748b" stroke-width="2" marker-end="url(#arrow1)"/>
                    <text x="137" y="95" text-anchor="middle" font-size="8" fill="#64748b">connect</text>
                    <text x="287" y="95" text-anchor="middle" font-size="8" fill="#64748b">auth OK</text>
                    <text x="437" y="90" text-anchor="middle" font-size="8" fill="#64748b">RETR</text>
                    <text x="437" y="130" text-anchor="middle" font-size="8" fill="#64748b">done</text>
                    <text x="577" y="95" text-anchor="middle" font-size="8" fill="#64748b">QUIT</text>
                    <defs><marker id="arrow1" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#64748b"/></marker></defs>
                </svg>
            </div>
            <div class="two-col">
                <div class="card success">
                    <h4>Session State Includes:</h4>
                    <ul>
                        <li>User identity (authenticated principal)</li>
                        <li>Current working directory</li>
                        <li>Transfer mode (ASCII/binary)</li>
                        <li>Permissions granted</li>
                    </ul>
                </div>
                <div class="card accent">
                    <h4>Python Session Class</h4>
                    <p>See <code>ex_9_02_pseudo_ftp.py</code> ‚Äî the <code>Session</code> class maintains <code>authenticated</code>, <code>username</code>, and <code>cwd</code> state across commands.</p>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 10: Synchronisation -->
        <div class="slide" data-slide="10">
            <h2>üîÑ Synchronisation and Checkpoints</h2>
            <p>One of L5's key features: recovering from failures without restarting from scratch.</p>
            <div class="diagram-container">
                <svg viewBox="0 0 700 130" style="max-width: 750px; min-height: 120px;">
                    <rect x="50" y="50" width="600" height="20" rx="10" fill="#e2e8f0"/>
                    <rect x="50" y="50" width="450" height="20" rx="10" fill="#22c55e"/>
                    <circle cx="200" cy="60" r="10" fill="#0ea5e9" stroke="white" stroke-width="2"/>
                    <text x="200" y="64" text-anchor="middle" font-size="8" fill="white" font-weight="600">CP1</text>
                    <text x="200" y="90" text-anchor="middle" font-size="9" fill="#64748b">25%</text>
                    <circle cx="350" cy="60" r="10" fill="#0ea5e9" stroke="white" stroke-width="2"/>
                    <text x="350" y="64" text-anchor="middle" font-size="8" fill="white" font-weight="600">CP2</text>
                    <text x="350" y="90" text-anchor="middle" font-size="9" fill="#64748b">50%</text>
                    <circle cx="500" cy="60" r="10" fill="#0ea5e9" stroke="white" stroke-width="2"/>
                    <text x="500" y="64" text-anchor="middle" font-size="8" fill="white" font-weight="600">CP3</text>
                    <text x="500" y="90" text-anchor="middle" font-size="9" fill="#64748b">75%</text>
                    <circle cx="540" cy="60" r="6" fill="#ef4444"/>
                    <text x="540" y="40" text-anchor="middle" font-size="9" fill="#ef4444" font-weight="600">ERROR!</text>
                    <path d="M 540 75 Q 520 105 500 80" fill="none" stroke="#f59e0b" stroke-width="2"/>
                    <text x="510" y="115" text-anchor="middle" font-size="9" fill="#f59e0b" font-weight="600">Resume from CP3</text>
                </svg>
            </div>
            <div class="two-col">
                <div>
                    <h3>Real-World Exemplus</h3>
                    <table>
                        <thead><tr><th>Protocol</th><th>Checkpoint Mechanism</th></tr></thead>
                        <tbody>
                            <tr><td>FTP</td><td><code>REST</code> command (restart position)</td></tr>
                            <tr><td>HTTP</td><td><code>Range</code> header for partial downloads</td></tr>
                            <tr><td>Databases</td><td>Savepoints in transactions</td></tr>
                            <tr><td>rsync</td><td>Block-level checksums for delta sync</td></tr>
                        </tbody>
                    </table>
                </div>
                <div>
                    <div class="insight-box">
                        <strong>De Ce ConteazƒÉ:</strong> Downloading a 4GB file over unreliable connection without checkpoints means starting over on every failure. With checkpoints, resume from last confirmed position.
                    </div>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 11: Dialogue Control -->
        <div class="slide" data-slide="11">
            <h2>üéôÔ∏è Dialogue Control Modes</h2>
            <div class="three-col">
                <div class="card">
                    <h4>Simplex</h4>
                    <p style="text-align: center; font-size: 1.5rem; margin: 1rem 0;">A ‚Üí B</p>
                    <p style="font-size: 0.95rem;">One direction only</p>
                    <p style="font-size: 0.85rem; color: var(--text-muted);">Exemplus: broadcast TV, keyboard input, logging streams</p>
                </div>
                <div class="card accent">
                    <h4>Half-Duplex</h4>
                    <p style="text-align: center; font-size: 1.5rem; margin: 1rem 0;">A ‚áÑ B</p>
                    <p style="font-size: 0.95rem;">Taking turns (with token)</p>
                    <p style="font-size: 0.85rem; color: var(--text-muted);">Exemplus: walkie-talkie, USB, HTTP request-response</p>
                </div>
                <div class="card success">
                    <h4>Full-Duplex</h4>
                    <p style="text-align: center; font-size: 1.5rem; margin: 1rem 0;">A ‚áî B</p>
                    <p style="font-size: 0.95rem;">Simultaneous both ways</p>
                    <p style="font-size: 0.85rem; color: var(--text-muted);">Exemplus: telephone, TCP, WebSocket</p>
                </div>
            </div>
            <div class="highlight-box" style="margin-top: 1.5rem;">
                <strong>Common Misconception:</strong> HTTP is often called "half-duplex" because of request-response, but underlying TCP is full-duplex. HTTP/2 and HTTP/3 folose»ôte this with multiplexed streams.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 12: L5 Modern Systems -->
        <div class="slide" data-slide="12">
            <h2>üåê Nivelul Sesiune in Modern Systems</h2>
            <p>Although no pure "L5 protocol" dominates today, session concepts appear everywhere:</p>
            <table style="margin-top: 1rem;">
                <thead><tr><th>Technology</th><th>Session Mechanism</th><th>L5 Function</th></tr></thead>
                <tbody>
                    <tr><td><strong>HTTP Cookies</strong></td><td>Server sets <code>Set-Cookie</code>, client returns <code>Cookie</code></td><td>Session identification, state persistence</td></tr>
                    <tr><td><strong>JWT Tokens</strong></td><td>Self-contained signed tokens in <code>Authorization</code></td><td>Stateless session verification</td></tr>
                    <tr><td><strong>WebSocket</strong></td><td>Upgrade from HTTP, persistent with ping/pong</td><td>Long-lived dialogue, heartbeat</td></tr>
                    <tr><td><strong>TLS Session Resumption</strong></td><td>Session tickets or session IDs</td><td>Reduced handshake for reconnection</td></tr>
                    <tr><td><strong>SSH Channels</strong></td><td>Multiple logical channels over one connection</td><td>Multiplexed sessions</td></tr>
                </tbody>
            </table>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 13: HTTP Sessions -->
        <div class="slide" data-slide="13">
            <h2>üç™ HTTP Sessions: Cookies and Tokens</h2>
            <div class="two-col">
                <div>
                    <h3>The Statelessness Problem</h3>
                    <p>HTTP is inherently stateless‚Äîeach request is independent. But applications need to know:</p>
                    <ul>
                        <li>Who is the user?</li>
                        <li>Are they logged in?</li>
                        <li>What's in their shopping cart?</li>
                    </ul>
                    <div class="definition-box" style="margin-top: 1rem;">
                        <div class="term">Cookie-Based Sessions</div>
                        <p>Server stores session data; client holds only opaque session ID.</p>
                    </div>
                    <div class="definition-box">
                        <div class="term">JWT (JSON Web Token)</div>
                        <p>Client holds entire session state in cryptographically signed token.</p>
                    </div>
                </div>
                <div>
                    <div class="code-block" data-lang="http">
<span class="comment"># Server response (login)</span>
HTTP/1.1 200 OK
Set-Cookie: session_id=abc123; 
            HttpOnly; Secure

<span class="comment"># Client subsequent request</span>
GET /api/profile HTTP/1.1
Cookie: session_id=abc123
                    </div>
                    <div class="code-block" data-lang="jwt">
<span class="comment"># JWT Structure</span>
Header.Payload.Signature

<span class="comment"># Payload (decoded)</span>
{
  "sub": "user123",
  "role": "admin",
  "exp": 1735084800
}
                    </div>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 14: Quiz L5 -->
        <div class="slide" data-slide="14">
            <h2>üß† Verificare Cuno»ôtin»õe: Nivelul Sesiune</h2>
            <div class="quiz-container">
                <div class="quiz-question">Which of the following is NOT a function of the Nivelul Sesiune (L5)?</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 1)">A) Establishing and terminating dialogue sessions</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 1)">B) Providing synchronisation points for recovery</div>
                <div class="quiz-option" onclick="checkQuiz(this, true, 1)">C) Compressing data to reduce bandwidth usage</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 1)">D) Managing dialogue control (simplex, half-duplex, full-duplex)</div>
                <div class="quiz-feedback" id="quiz-fb-1"></div>
            </div>
            <div class="reveal-btn" onclick="toggleReveal(this)" style="margin-top: 1.5rem;">üí° Show Explanation</div>
            <div class="reveal-content">
                <div class="insight-box">
                    <strong>Answer: C</strong> ‚Äî Compression is a <em>Nivelul Prezentare (L6)</em> function. L5 handles dialogue management, synchronisation, and session state. L6 handles data representation including encoding, compression, and encryption.
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 15: Section - Nivelul Prezentare -->
        <div class="slide section-slide" data-slide="15">
            <div class="section-number">Part II</div>
            <h1>The Nivelul Prezentare (L6)</h1>
            <p>Data Representation and Transformation</p>
            <div class="slide-footer" style="color: rgba(255,255,255,0.5);">by Revolvix</div>
        </div>
        <!-- SLIDE 16: L6 Defini»õie -->
        <div class="slide" data-slide="16">
            <h2>üé® Nivelul Prezentare: Defini»õie</h2>
            <div class="definition-box" style="font-size: 1.05rem;">
                <div class="term">Nivelul Prezentare (L6)</div>
                <p>Handles syntax and semantics of exchanged data, ensuring information sent by one application can be correctly interpreted by the receiving application, regardless of internal data representation differences.</p>
            </div>
            <div class="three-col" style="margin-top: 1.5rem;">
                <div class="card accent">
                    <h4>üìù Encoding</h4>
                    <p>Character sets (UTF-8, ASCII), numeric formats (endianness)</p>
                </div>
                <div class="card success">
                    <h4>üì¶ Serialisation</h4>
                    <p>Converting structures to byte streams (JSON, XML, Protocol Buffers)</p>
                </div>
                <div class="card purple">
                    <h4>üóúÔ∏è Compression</h4>
                    <p>Reducing data size (gzip, Brotli, zstd)</p>
                </div>
            </div>
            <div class="highlight-box" style="margin-top: 1.5rem;">
                <strong>The Core Question:</strong> How do we ensure data written by one system can be read by another‚Äîeven with different processors, operating systems, or programming languages?
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 17: Endianness -->
        <div class="slide" data-slide="17">
            <h2>üî¢ Byte Order: Big-Endian vs Little-Endian</h2>
            <p>When storing multi-byte values in memory, systems differ in which byte comes first:</p>
            <div class="diagram-container">
                <svg viewBox="0 0 750 180" style="max-width: 800px; min-height: 160px;">
                    <text x="375" y="25" text-anchor="middle" font-size="13" font-weight="600" fill="#1e293b">Value: 0x12345678 (305,419,896 decimal)</text>
                    <text x="180" y="55" text-anchor="middle" font-size="12" font-weight="600" fill="#0ea5e9">Big-Endian (Network Order)</text>
                    <rect x="70" y="70" width="50" height="40" fill="#bae6fd" stroke="#0ea5e9" stroke-width="2"/>
                    <text x="95" y="95" text-anchor="middle" font-size="13" font-weight="700" fill="#0284c7">12</text>
                    <text x="95" y="125" text-anchor="middle" font-size="9" fill="#64748b">addr 0</text>
                    <rect x="120" y="70" width="50" height="40" fill="#bae6fd" stroke="#0ea5e9" stroke-width="2"/>
                    <text x="145" y="95" text-anchor="middle" font-size="13" font-weight="700" fill="#0284c7">34</text>
                    <text x="145" y="125" text-anchor="middle" font-size="9" fill="#64748b">addr 1</text>
                    <rect x="170" y="70" width="50" height="40" fill="#bae6fd" stroke="#0ea5e9" stroke-width="2"/>
                    <text x="195" y="95" text-anchor="middle" font-size="13" font-weight="700" fill="#0284c7">56</text>
                    <text x="195" y="125" text-anchor="middle" font-size="9" fill="#64748b">addr 2</text>
                    <rect x="220" y="70" width="50" height="40" fill="#bae6fd" stroke="#0ea5e9" stroke-width="2"/>
                    <text x="245" y="95" text-anchor="middle" font-size="13" font-weight="700" fill="#0284c7">78</text>
                    <text x="245" y="125" text-anchor="middle" font-size="9" fill="#64748b">addr 3</text>
                    <text x="95" y="150" text-anchor="middle" font-size="9" fill="#22c55e" font-weight="600">‚Üë MSB first</text>
                    <text x="570" y="55" text-anchor="middle" font-size="12" font-weight="600" fill="#8b5cf6">Little-Endian (Intel x86)</text>
                    <rect x="430" y="70" width="50" height="40" fill="#ddd6fe" stroke="#8b5cf6" stroke-width="2"/>
                    <text x="455" y="95" text-anchor="middle" font-size="13" font-weight="700" fill="#7c3aed">78</text>
                    <text x="455" y="125" text-anchor="middle" font-size="9" fill="#64748b">addr 0</text>
                    <rect x="480" y="70" width="50" height="40" fill="#ddd6fe" stroke="#8b5cf6" stroke-width="2"/>
                    <text x="505" y="95" text-anchor="middle" font-size="13" font-weight="700" fill="#7c3aed">56</text>
                    <text x="505" y="125" text-anchor="middle" font-size="9" fill="#64748b">addr 1</text>
                    <rect x="530" y="70" width="50" height="40" fill="#ddd6fe" stroke="#8b5cf6" stroke-width="2"/>
                    <text x="555" y="95" text-anchor="middle" font-size="13" font-weight="700" fill="#7c3aed">34</text>
                    <text x="555" y="125" text-anchor="middle" font-size="9" fill="#64748b">addr 2</text>
                    <rect x="580" y="70" width="50" height="40" fill="#ddd6fe" stroke="#8b5cf6" stroke-width="2"/>
                    <text x="605" y="95" text-anchor="middle" font-size="13" font-weight="700" fill="#7c3aed">12</text>
                    <text x="605" y="125" text-anchor="middle" font-size="9" fill="#64748b">addr 3</text>
                    <text x="455" y="150" text-anchor="middle" font-size="9" fill="#ef4444" font-weight="600">‚Üë LSB first</text>
                    <line x1="375" y1="45" x2="375" y2="160" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="5,5"/>
                </svg>
            </div>
            <div class="two-col">
                <div class="warning-box">
                    <strong>The Rule:</strong> Network protocols use <strong>Big-Endian</strong> (Network Byte Order). Always convert before sending!
                </div>
                <div class="code-block" data-lang="python">
<span class="keyword">import</span> struct

<span class="comment"># Pack as network order (big-endian)</span>
data = struct.pack(<span class="string">"!I"</span>, <span class="number">0x12345678</span>)
<span class="comment"># Result: b'\x12\x34\x56\x78'</span>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 18: struct Module -->
        <div class="slide" data-slide="18">
            <h2>üêç Python struct Module: Binary Packing</h2>
            <p>The <code>struct</code> module converts between Python values and C structs as bytes:</p>
            <div class="two-col">
                <div>
                    <h3>Format Characters</h3>
                    <table>
                        <thead><tr><th>Format</th><th>C Type</th><th>Size</th></tr></thead>
                        <tbody>
                            <tr><td><code>B</code></td><td>unsigned char</td><td>1</td></tr>
                            <tr><td><code>H</code></td><td>unsigned short</td><td>2</td></tr>
                            <tr><td><code>I</code></td><td>unsigned int</td><td>4</td></tr>
                            <tr><td><code>Q</code></td><td>unsigned long long</td><td>8</td></tr>
                            <tr><td><code>s</code></td><td>char[]</td><td>n</td></tr>
                        </tbody>
                    </table>
                </div>
                <div>
                    <h3>Byte Order Prefixes</h3>
                    <table>
                        <thead><tr><th>Prefix</th><th>Byte Order</th><th>Use Case</th></tr></thead>
                        <tbody>
                            <tr><td><code>!</code> or <code>&gt;</code></td><td>Big-endian</td><td>Network protocols</td></tr>
                            <tr><td><code>&lt;</code></td><td>Little-endian</td><td>x86 files</td></tr>
                            <tr><td><code>=</code></td><td>Native</td><td>Local processing</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="code-block" data-lang="python">
<span class="keyword">import</span> struct

<span class="comment"># Pack: Python values ‚Üí bytes</span>
header = struct.pack(<span class="string">"!2sBBII"</span>, <span class="string">b"S9"</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1024</span>, <span class="number">0xABCD1234</span>)
<span class="comment"># Result: 12 bytes (magic + msg_type + flags + length + crc)</span>

<span class="comment"># Unpack: bytes ‚Üí Python values</span>
magic, msg_type, flags, length, crc = struct.unpack(<span class="string">"!2sBBII"</span>, header)
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 19: Binary Header Structure -->
        <div class="slide" data-slide="19">
            <h2>üìê Designing a Binary Protocol Header</h2>
            <p>The starterkit's Pseudo-FTP protocol uses a 12-byte binary header for data framing:</p>
            <div class="protocol-header">
                <div class="header-field"><div class="field-name">Magic</div><div class="field-value">"PF"</div><div class="field-bits">2 bytes</div></div>
                <div class="header-field"><div class="field-name">Version</div><div class="field-value">0x01</div><div class="field-bits">1 byte</div></div>
                <div class="header-field"><div class="field-name">Flags</div><div class="field-value">0x01</div><div class="field-bits">1 byte</div></div>
                <div class="header-field span-2"><div class="field-name">Payload Length</div><div class="field-value">0x00001000</div><div class="field-bits">4 bytes (big-endian)</div></div>
                <div class="header-field span-2"><div class="field-name">CRC32</div><div class="field-value">0xABCD1234</div><div class="field-bits">4 bytes</div></div>
            </div>
            <div class="two-col" style="margin-top: 1rem;">
                <div>
                    <h4>Field Purposes:</h4>
                    <ul>
                        <li><strong>Magic:</strong> Identifies protocol, aids resync</li>
                        <li><strong>Version:</strong> Enables protocol evolution</li>
                        <li><strong>Flags:</strong> Bit 0 = gzip, Bit 1 = SHA256</li>
                        <li><strong>Length:</strong> Payload size for framing</li>
                        <li><strong>CRC32:</strong> Integrity verification</li>
                    </ul>
                </div>
                <div>
                    <div class="code-block" data-lang="python">
<span class="comment"># From ex_9_01_endianness.py</span>
HEADER_FORMAT = <span class="string">"!2sBBII"</span>
MAGIC = <span class="string">b"S9"</span>

<span class="keyword">def</span> <span class="function">pack_message</span>(payload, msg_type=<span class="number">1</span>):
    length = <span class="function">len</span>(payload)
    crc = zlib.crc32(payload) & <span class="number">0xFFFFFFFF</span>
    header = struct.pack(HEADER_FORMAT,
        MAGIC, msg_type, <span class="number">0</span>, length, crc)
    <span class="keyword">return</span> header + payload
                    </div>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 20: Framing Problem -->
        <div class="slide" data-slide="20">
            <h2>üìè The Framing Problem</h2>
            <div class="insight-box">
                <strong>Critical TCP Behaviour:</strong> TCP is a <em>byte stream</em>, not a message stream. A single <code>send()</code> may be received as multiple <code>recv()</code> calls, and vice versa!
            </div>
            <div class="diagram-container">
                <svg viewBox="0 0 750 140" style="max-width: 800px; min-height: 130px;">
                    <text x="90" y="25" text-anchor="middle" font-size="11" font-weight="600" fill="#1e293b">Sender</text>
                    <rect x="30" y="35" width="120" height="30" rx="6" fill="#bae6fd" stroke="#0ea5e9" stroke-width="2"/>
                    <text x="90" y="55" text-anchor="middle" font-size="10" fill="#0284c7">send(100 bytes)</text>
                    <path d="M 160 50 Q 280 50 280 70 Q 280 90 400 90" fill="none" stroke="#64748b" stroke-width="2" stroke-dasharray="5,3"/>
                    <text x="280" y="65" text-anchor="middle" font-size="9" fill="#64748b">TCP stream</text>
                    <text x="550" y="25" text-anchor="middle" font-size="11" font-weight="600" fill="#1e293b">Receiver</text>
                    <rect x="410" y="35" width="70" height="25" rx="5" fill="#fecaca" stroke="#ef4444" stroke-width="2"/>
                    <text x="445" y="52" text-anchor="middle" font-size="9" fill="#b91c1c">recv‚Üí30</text>
                    <rect x="490" y="35" width="70" height="25" rx="5" fill="#fecaca" stroke="#ef4444" stroke-width="2"/>
                    <text x="525" y="52" text-anchor="middle" font-size="9" fill="#b91c1c">recv‚Üí50</text>
                    <rect x="570" y="35" width="70" height="25" rx="5" fill="#fecaca" stroke="#ef4444" stroke-width="2"/>
                    <text x="605" y="52" text-anchor="middle" font-size="9" fill="#b91c1c">recv‚Üí20</text>
                    <text x="550" y="85" text-anchor="middle" font-size="10" fill="#64748b">‚Äî OR ‚Äî</text>
                    <rect x="465" y="100" width="170" height="25" rx="5" fill="#bbf7d0" stroke="#22c55e" stroke-width="2"/>
                    <text x="550" y="117" text-anchor="middle" font-size="9" fill="#166534">recv‚Üí100 (all at once)</text>
                </svg>
            </div>
            <div class="two-col">
                <div class="card success">
                    <h4>Solution: Length-Prefixed Framing</h4>
                    <p>Include message length in fixed-size header. Receiver reads header first, then reads exactly N bytes.</p>
                </div>
                <div class="code-block" data-lang="python">
<span class="keyword">def</span> <span class="function">recv_all</span>(sock, length):
    <span class="string">"""Receive exactly N bytes."""</span>
    data = <span class="string">b""</span>
    <span class="keyword">while</span> <span class="function">len</span>(data) < length:
        chunk = sock.recv(length - <span class="function">len</span>(data))
        <span class="keyword">if not</span> chunk:
            <span class="keyword">raise</span> ConnectionError()
        data += chunk
    <span class="keyword">return</span> data
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>
        <!-- SLIDE 21: Codificarea Caracterelor -->
        <div class="slide" data-slide="21">
            <h2>üî§ Codificarea Caracterelor: UTF-8 and Beyond</h2>
            <div class="two-col">
                <div>
                    <h3>The Encoding Problem</h3>
                    <p>Text is stored as bytes, but which bytes represent which characters?</p>
                    <table style="margin-top: 1rem;">
                        <thead><tr><th>Encoding</th><th>"»ò" (Romanian)</th><th>NotƒÉs</th></tr></thead>
                        <tbody>
                            <tr><td>UTF-8</td><td><code>C8 98</code></td><td>Variable width, ASCII-compat</td></tr>
                            <tr><td>UTF-16</td><td><code>01 98</code></td><td>2-4 bytes per char</td></tr>
                            <tr><td>ISO-8859-2</td><td><code>AA</code></td><td>Latin-2, limited</td></tr>
                        </tbody>
                    </table>
                </div>
                <div>
                    <div class="story-box">
                        <div class="story-title">üêõ The Mojibake Bug</div>
                        <p>When text encoded in one charset is decoded using another: <code>√à‚Ñ¢</code> instead of <code>»ò</code>.</p>
                    </div>
                    <div class="highlight-box" style="margin-top: 1rem;">
                        <strong>Modern Standard:</strong> UTF-8 used by 98%+ of websites. Always specify encoding explicitly!
                    </div>
                </div>
            </div>
            <div class="code-block" data-lang="python">
<span class="comment"># Python 3 strings are Unicode; encode for network</span>
text = <span class="string">"Bucure»ôti"</span>
wire_bytes = text.encode(<span class="string">"utf-8"</span>)    <span class="comment"># b'Bucure\xc8\x99ti'</span>
restored = wire_bytes.decode(<span class="string">"utf-8"</span>) <span class="comment"># 'Bucure»ôti'</span>

<span class="comment"># HTTP header example</span>
<span class="string">"Content-Type: text/html; charset=utf-8"</span>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 22: Serialisation Formats -->
        <div class="slide" data-slide="22">
            <h2>üì¶ Serialisation: Data to Bytes</h2>
            <p>Converting complex data structures to transmittable byte sequences:</p>
            <table style="margin-top: 1rem;">
                <thead><tr><th>Format</th><th>Type</th><th>Avantaje</th><th>Dezavantaje</th><th>Use Cases</th></tr></thead>
                <tbody>
                    <tr><td><strong>JSON</strong></td><td>Text</td><td>Human-readable, ubiquitous</td><td>Verbose, slow parsing</td><td>REST APIs, configs</td></tr>
                    <tr><td><strong>XML</strong></td><td>Text</td><td>Schema validation, mature</td><td>Very verbose, complex</td><td>SOAP, enterprise</td></tr>
                    <tr><td><strong>Protocol Buffers</strong></td><td>Binary</td><td>Compact, fast, versioned</td><td>Requires schema</td><td>gRPC, microservices</td></tr>
                    <tr><td><strong>MessagePack</strong></td><td>Binary</td><td>Compact JSON alternative</td><td>Less tooling</td><td>Caching, real-time</td></tr>
                </tbody>
            </table>
            <div class="warning-box" style="margin-top: 1rem;">
                <strong>Decision Criteria:</strong> Consider readability vs efficiency, schema requirements, tooling availability, and team expertise.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 23: Compression -->
        <div class="slide" data-slide="23">
            <h2>üóúÔ∏è Compresia Datelor</h2>
            <div class="two-col">
                <div>
                    <h3>Compression Types</h3>
                    <div class="card success" style="margin-bottom: 1rem;">
                        <h4>Lossless</h4>
                        <p>Original data perfectly reconstructed. Used for text, code, data.</p>
                        <p style="margin-top: 0.5rem;"><strong>Algorithms:</strong> gzip, zlib, LZ4, zstd, Brotli</p>
                    </div>
                    <div class="card accent">
                        <h4>Lossy</h4>
                        <p>Some data discarded for better ratios. Used for media.</p>
                        <p style="margin-top: 0.5rem;"><strong>Algorithms:</strong> JPEG, MP3, H.264</p>
                    </div>
                </div>
                <div>
                    <h3>Impact on Throughput</h3>
                    <div class="interactive-panel">
                        <h4>üìä Compression Calculator</h4>
                        <div class="slider-group">
                            <label>Original Size (KB): <span id="origSizeVal">1000</span></label>
                            <input type="range" min="100" max="10000" value="1000" id="origSize" oninput="calculateCompression()">
                        </div>
                        <div class="slider-group">
                            <label>Compression Ratio: <span id="ratioVal">75</span>%</label>
                            <input type="range" min="10" max="95" value="75" id="compRatio" oninput="calculateCompression()">
                        </div>
                        <div class="result-display">
                            <p><strong>Compressed:</strong> <span id="compSize">250</span> KB</p>
                            <p><strong>Effective throughput:</strong> <span id="throughput">4.0</span>√ó faster</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 24: L6 Pipeline -->
        <div class="slide" data-slide="24">
            <h2>üîÑ The Nivelul Prezentare Pipeline</h2>
            <div class="diagram-container">
                <svg viewBox="0 0 800 200" style="max-width: 850px; min-height: 180px;">
                    <text x="400" y="20" text-anchor="middle" font-size="13" font-weight="600" fill="#1e293b">Data Transformation Pipeline</text>
                    <rect x="20" y="80" width="100" height="50" rx="8" fill="#e2e8f0" stroke="#94a3b8" stroke-width="2"/>
                    <text x="70" y="105" text-anchor="middle" font-size="10" font-weight="600" fill="#475569">Application</text>
                    <text x="70" y="118" text-anchor="middle" font-size="10" font-weight="600" fill="#475569">Data</text>
                    <rect x="160" y="80" width="110" height="50" rx="8" fill="#bae6fd" stroke="#0ea5e9" stroke-width="2"/>
                    <text x="215" y="102" text-anchor="middle" font-size="10" font-weight="600" fill="#0284c7">Serialisation</text>
                    <text x="215" y="117" text-anchor="middle" font-size="9" fill="#0369a1">struct ‚Üí bytes</text>
                    <rect x="310" y="80" width="110" height="50" rx="8" fill="#bbf7d0" stroke="#22c55e" stroke-width="2"/>
                    <text x="365" y="102" text-anchor="middle" font-size="10" font-weight="600" fill="#166534">Compression</text>
                    <text x="365" y="117" text-anchor="middle" font-size="9" fill="#15803d">size reduction</text>
                    <rect x="460" y="80" width="110" height="50" rx="8" fill="#ddd6fe" stroke="#8b5cf6" stroke-width="2"/>
                    <text x="515" y="102" text-anchor="middle" font-size="10" font-weight="600" fill="#7c3aed">Criptare</text>
                    <text x="515" y="117" text-anchor="middle" font-size="9" fill="#6d28d9">securing</text>
                    <rect x="610" y="80" width="80" height="50" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
                    <text x="650" y="102" text-anchor="middle" font-size="10" font-weight="600" fill="#92400e">To</text>
                    <text x="650" y="117" text-anchor="middle" font-size="10" font-weight="600" fill="#92400e">L5/L4</text>
                    <path d="M 125 105 L 155 105" fill="none" stroke="#64748b" stroke-width="2" marker-end="url(#pipeArr)"/>
                    <path d="M 275 105 L 305 105" fill="none" stroke="#64748b" stroke-width="2" marker-end="url(#pipeArr)"/>
                    <path d="M 425 105 L 455 105" fill="none" stroke="#64748b" stroke-width="2" marker-end="url(#pipeArr)"/>
                    <path d="M 575 105 L 605 105" fill="none" stroke="#64748b" stroke-width="2" marker-end="url(#pipeArr)"/>
                    <text x="215" y="145" text-anchor="middle" font-size="8" fill="#94a3b8">JSON, Protobuf</text>
                    <text x="365" y="145" text-anchor="middle" font-size="8" fill="#94a3b8">gzip, zstd</text>
                    <text x="515" y="145" text-anchor="middle" font-size="8" fill="#94a3b8">TLS, AES</text>
                    <text x="400" y="175" text-anchor="middle" font-size="10" fill="#64748b">‚Üì On reception: reverse order (decrypt ‚Üí decompress ‚Üí deserialise)</text>
                    <defs><marker id="pipeArr" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#64748b"/></marker></defs>
                </svg>
            </div>
            <div class="highlight-box">
                <strong>Order Matters:</strong> Compress <em>before</em> encrypting. Encrypted data has high entropy and won't compress well. This is why HTTPS compresses at HTTP layer, not TLS layer.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 25: Section - FTP -->
        <div class="slide section-slide" data-slide="25">
            <div class="section-number">Part III</div>
            <h1>Case Study: FTP Protocol</h1>
            <p>L5 and L6 Concepts in PracticƒÉ</p>
            <div class="slide-footer" style="color: rgba(255,255,255,0.5);">by Revolvix</div>
        </div>

        <!-- SLIDE 26: FTP Prezentare GeneralƒÉ -->
        <div class="slide" data-slide="26">
            <h2>üìÅ FTP: File Transfer Protocol</h2>
            <div class="story-box">
                <div class="story-title">üìú Historical NotƒÉ</div>
                <p>FTP (RFC 959, 1985) predates HTTP by a decade. Designed when networks were unreliable and sessions needed explicit management. Many design decisions‚Äîseparate control/data channels, transfer modes‚Äîreflect L5/L6 thinking.</p>
            </div>
            <div class="two-col" style="margin-top: 1.5rem;">
                <div>
                    <h3>FTP Architecture</h3>
                    <ul>
                        <li><strong>Control Connection (Port 21):</strong> Text commands (USER, PASS, LIST, RETR, STOR)</li>
                        <li><strong>Data Connection (Port 20 or dynamic):</strong> Actual file transfer</li>
                        <li><strong>Session State:</strong> User identity, current directory, transfer mode</li>
                    </ul>
                </div>
                <div>
                    <h3>L5/L6 Functions in FTP</h3>
                    <table>
                        <thead><tr><th>Layer</th><th>FTP Feature</th></tr></thead>
                        <tbody>
                            <tr><td>L5</td><td>User authentication (USER/PASS)</td></tr>
                            <tr><td>L5</td><td>Session state (CWD, PWD)</td></tr>
                            <tr><td>L5</td><td>Transfer resumption (REST)</td></tr>
                            <tr><td>L6</td><td>ASCII vs BINARY mode</td></tr>
                            <tr><td>L6</td><td>Line ending conversion</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 27: FTP Sequence -->
        <div class="slide" data-slide="27">
            <h2>üìä FTP Session Timeline</h2>
            <div class="diagram-container">
                <svg viewBox="0 0 650 340" style="max-width: 700px; min-height: 320px;">
                    <line x1="120" y1="40" x2="120" y2="320" stroke="#0ea5e9" stroke-width="2"/>
                    <line x1="530" y1="40" x2="530" y2="320" stroke="#8b5cf6" stroke-width="2"/>
                    <rect x="70" y="15" width="100" height="25" rx="6" fill="#0ea5e9"/>
                    <text x="120" y="32" text-anchor="middle" font-size="11" fill="white" font-weight="600">Client</text>
                    <rect x="480" y="15" width="100" height="25" rx="6" fill="#8b5cf6"/>
                    <text x="530" y="32" text-anchor="middle" font-size="11" fill="white" font-weight="600">Server</text>
                    <text x="325" y="60" text-anchor="middle" font-size="9" fill="#f59e0b" font-weight="600">CONTROL CONNECTION (Port 21)</text>
                    <line x1="125" y1="75" x2="525" y2="75" stroke="#1e293b" stroke-width="1.5" marker-end="url(#ftpA)"/>
                    <text x="325" y="70" text-anchor="middle" font-size="9" fill="#1e293b">TCP Connect</text>
                    <line x1="525" y1="90" x2="125" y2="90" stroke="#22c55e" stroke-width="1.5" marker-end="url(#ftpA)"/>
                    <text x="325" y="103" text-anchor="middle" font-size="9" fill="#22c55e">220 Welcome</text>
                    <line x1="125" y1="120" x2="525" y2="120" stroke="#1e293b" stroke-width="1.5" marker-end="url(#ftpA)"/>
                    <text x="325" y="115" text-anchor="middle" font-size="9" fill="#1e293b">USER alice</text>
                    <line x1="525" y1="135" x2="125" y2="135" stroke="#22c55e" stroke-width="1.5" marker-end="url(#ftpA)"/>
                    <text x="325" y="148" text-anchor="middle" font-size="9" fill="#22c55e">331 Password required</text>
                    <line x1="125" y1="165" x2="525" y2="165" stroke="#1e293b" stroke-width="1.5" marker-end="url(#ftpA)"/>
                    <text x="325" y="160" text-anchor="middle" font-size="9" fill="#1e293b">PASS ******</text>
                    <line x1="525" y1="180" x2="125" y2="180" stroke="#22c55e" stroke-width="1.5" marker-end="url(#ftpA)"/>
                    <text x="325" y="193" text-anchor="middle" font-size="9" fill="#22c55e">230 User logged in</text>
                    <line x1="125" y1="210" x2="525" y2="210" stroke="#1e293b" stroke-width="1.5" marker-end="url(#ftpA)"/>
                    <text x="325" y="205" text-anchor="middle" font-size="9" fill="#1e293b">PASV</text>
                    <line x1="525" y1="225" x2="125" y2="225" stroke="#22c55e" stroke-width="1.5" marker-end="url(#ftpA)"/>
                    <text x="325" y="238" text-anchor="middle" font-size="9" fill="#22c55e">227 Passive Mode (port 5000)</text>
                    <rect x="130" y="250" width="390" height="40" rx="5" fill="rgba(139, 92, 246, 0.1)" stroke="#8b5cf6" stroke-width="1" stroke-dasharray="4,2"/>
                    <text x="325" y="265" text-anchor="middle" font-size="9" fill="#8b5cf6" font-weight="600">DATA CONNECTION (Port 5000)</text>
                    <text x="325" y="280" text-anchor="middle" font-size="9" fill="#1e293b">RETR file.txt ‚Üí [file data]</text>
                    <line x1="525" y1="305" x2="125" y2="305" stroke="#22c55e" stroke-width="1.5" marker-end="url(#ftpA)"/>
                    <text x="325" y="318" text-anchor="middle" font-size="9" fill="#22c55e">226 Transfer complete</text>
                    <defs><marker id="ftpA" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#64748b"/></marker></defs>
                </svg>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 28: Active vs Passive -->
        <div class="slide" data-slide="28">
            <h2>üîÄ Active vs Passive Mode</h2>
            <div class="two-col">
                <div>
                    <div class="card danger">
                        <h4>Active Mode (PORT)</h4>
                        <ul>
                            <li>Client opens a port, tells server via PORT</li>
                            <li>Server <em>initiates</em> connection to client</li>
                            <li><strong>Problem:</strong> Blocked by NAT/firewalls</li>
                            <li>Deprecated in modern networks</li>
                        </ul>
                        <p style="text-align: center; font-size: 1.2rem; margin-top: 0.75rem; color: var(--danger);">Server ‚Üí Client ‚ùå</p>
                    </div>
                </div>
                <div>
                    <div class="card success">
                        <h4>Passive Mode (PASV)</h4>
                        <ul>
                            <li>Server opens a port, tells client the number</li>
                            <li>Client <em>initiates</em> connection to server</li>
                            <li><strong>Works through:</strong> NAT, firewalls, proxies</li>
                            <li>Modern standard</li>
                        </ul>
                        <p style="text-align: center; font-size: 1.2rem; margin-top: 0.75rem; color: var(--success);">Client ‚Üí Server ‚úì</p>
                    </div>
                </div>
            </div>
            <table style="margin-top: 1.5rem;">
                <thead><tr><th>Aspect</th><th>Active Mode</th><th>Passive Mode</th></tr></thead>
                <tbody>
                    <tr><td>Who listens for data</td><td>Client</td><td>Server</td></tr>
                    <tr><td>Who initiates data connection</td><td>Server</td><td>Client</td></tr>
                    <tr><td>Works through NAT</td><td>‚ùå Rarely</td><td>‚úÖ Yes</td></tr>
                    <tr><td>Modern usage</td><td>Deprecated</td><td>Standard</td></tr>
                </tbody>
            </table>
            <div class="slide-footer">by Revolvix</div>
        </div>
        <!-- SLIDE 29: Pseudo-FTP Implementation -->
        <div class="slide" data-slide="29">
            <h2>üõ†Ô∏è Starterkit: Pseudo-FTP Implementation</h2>
            <p>The <code>ex_9_02_pseudo_ftp.py</code> implements simplified FTP demonstrating L5/L6 concepts:</p>
            <div class="two-col">
                <div>
                    <h3>Nivelul Sesiune (L5) Features</h3>
                    <div class="code-block" data-lang="python">
<span class="keyword">class</span> <span class="type">Session</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(<span class="keyword">self</span>, root_dir):
        <span class="keyword">self</span>.authenticated = <span class="keyword">False</span>
        <span class="keyword">self</span>.username = <span class="keyword">None</span>
        <span class="keyword">self</span>.cwd = Path(<span class="string">"/"</span>)
    
    <span class="keyword">def</span> <span class="function">login</span>(<span class="keyword">self</span>, user, password):
        <span class="keyword">if</span> user == <span class="string">"test"</span> <span class="keyword">and</span> \
           password == <span class="string">"12345"</span>:
            <span class="keyword">self</span>.authenticated = <span class="keyword">True</span>
            <span class="keyword">return True</span>
        <span class="keyword">return False</span>
                    </div>
                </div>
                <div>
                    <h3>Nivelul Prezentare (L6) Features</h3>
                    <div class="code-block" data-lang="python">
<span class="comment"># Binary header with framing</span>
HEADER_FORMAT = <span class="string">"!2sBBII"</span>
FLAG_GZIP = <span class="number">0x01</span>

<span class="keyword">def</span> <span class="function">pack_data</span>(payload, use_gzip=<span class="keyword">False</span>):
    flags = FLAG_GZIP <span class="keyword">if</span> use_gzip <span class="keyword">else</span> <span class="number">0</span>
    <span class="keyword">if</span> use_gzip:
        payload = gzip.compress(payload)
    length = <span class="function">len</span>(payload)
    crc = zlib.crc32(payload)
    header = struct.pack(HEADER_FORMAT,
        MAGIC, VERSION, flags, length, crc)
    <span class="keyword">return</span> header + payload
                    </div>
                </div>
            </div>
            <div class="highlight-box" style="margin-top: 1rem;">
                <strong>Try it:</strong> <code>make server</code> in one terminal, <code>make client-list</code> in another. Use <code>make capture</code> to see traffic in Wireshark.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 30: Common Pitfalls -->
        <div class="slide" data-slide="30">
            <h2>‚ö†Ô∏è Common Implementation Pitfalls</h2>
            <div class="three-col">
                <div class="card danger">
                    <h4>üî¢ Wrong Endianness</h4>
                    <p>Using <code>&lt;I</code> (little-endian) instead of <code>!I</code> (network order).</p>
                    <p style="margin-top: 0.75rem; font-size: 0.9rem; color: var(--success);"><strong>Fix:</strong> Always use <code>!</code> prefix for network protocols.</p>
                </div>
                <div class="card danger">
                    <h4>üìè Partial recv()</h4>
                    <p><code>recv(1024)</code> may return fewer bytes! Never assume you get everything.</p>
                    <p style="margin-top: 0.75rem; font-size: 0.9rem; color: var(--success);"><strong>Fix:</strong> Loop until you have exactly N bytes.</p>
                </div>
                <div class="card danger">
                    <h4>üîê No Auth Check</h4>
                    <p>Forgetting to verify <code>authenticated</code> before sensitive commands.</p>
                    <p style="margin-top: 0.75rem; font-size: 0.9rem; color: var(--success);"><strong>Fix:</strong> Check auth at every command handler.</p>
                </div>
            </div>
            <div class="two-col" style="margin-top: 1.5rem;">
                <div class="card accent">
                    <h4>üì¶ Compressing Compressed Data</h4>
                    <p>Running gzip on JPEG, PNG, or ZIP files wastes CPU without reducing size.</p>
                    <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--success);"><strong>Fix:</strong> Check file type before compression.</p>
                </div>
                <div class="card accent">
                    <h4>üîÑ Ignoring CRC Errors</h4>
                    <p>Detecting CRC mismatch but continuing to process corrupted data.</p>
                    <p style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--success);"><strong>Fix:</strong> Raise exception, request retransmission.</p>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 31: Wireshark -->
        <div class="slide" data-slide="31">
            <h2>üî¨ Analysing Traffic with Wireshark</h2>
            <p>Use Wireshark or tcpdump to verify your implementation:</p>
            <div class="code-block" data-lang="bash">
<span class="comment"># Capture traffic on loopback, port 3333</span>
sudo tcpdump -i lo -w capture.pcap tcp port <span class="number">3333</span>

<span class="comment"># Or with Wireshark filter</span>
tcp.port == <span class="number">3333</span>
            </div>
            <div class="two-col" style="margin-top: 1rem;">
                <div>
                    <h3>What to Look For</h3>
                    <ul>
                        <li><strong>Magic bytes:</strong> <code>50 46</code> = "PF" at start of data packets</li>
                        <li><strong>Length field:</strong> Big-endian 4-byte value</li>
                        <li><strong>Separate streams:</strong> Control (text) vs Data (binary)</li>
                        <li><strong>Compression flag:</strong> When enabled, payload looks random</li>
                    </ul>
                </div>
                <div>
                    <div class="card purple">
                        <h4>Starterkit Helper</h4>
                        <div class="code-block" data-lang="bash" style="margin-top: 0.5rem;">
<span class="comment"># Automated capture</span>
make capture-save
<span class="comment"># Output: artifacts/demo.pcap</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="warning-box" style="margin-top: 1rem;">
                <strong>Lab Deliverable:</strong> A <code>.pcap</code> file demonstrating control/data separation with correctly interpreted binary headers.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 32: Section - TLS -->
        <div class="slide section-slide" data-slide="32">
            <div class="section-number">Part IV</div>
            <h1>Modern Security: TLS</h1>
            <p>Where Session and Presentation Meet</p>
            <div class="slide-footer" style="color: rgba(255,255,255,0.5);">by Revolvix</div>
        </div>

        <!-- SLIDE 33: TLS Prezentare GeneralƒÉ -->
        <div class="slide" data-slide="33">
            <h2>üîí TLS: Nivelul Transport Security</h2>
            <p>TLS doesn't fit neatly into OSI layers‚Äîit combines L5 and L6 functions:</p>
            <div class="two-col">
                <div>
                    <h3>Nivelul Sesiune Functions</h3>
                    <ul>
                        <li><strong>Handshake:</strong> Establishing secure connection</li>
                        <li><strong>Session resumption:</strong> Tickets, session IDs</li>
                        <li><strong>Renegotiation:</strong> Updating keys mid-connection</li>
                        <li><strong>Alert protocol:</strong> Error signalling</li>
                    </ul>
                </div>
                <div>
                    <h3>Nivelul Prezentare Functions</h3>
                    <ul>
                        <li><strong>Criptare:</strong> AES-GCM, ChaCha20-Poly1305</li>
                        <li><strong>Authentication:</strong> HMAC, AEAD</li>
                        <li><strong>Compression:</strong> (Disabled due to CRIME)</li>
                        <li><strong>Record framing:</strong> Length-prefixed messages</li>
                    </ul>
                </div>
            </div>
            <div class="highlight-box" style="margin-top: 1.5rem;">
                <strong>Key Insight:</strong> TLS demonstrates that strict OSI layering is a teaching model, not rigid implementation. Good protocol design borrows from multiple layers as needed.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 34: Quiz L6 -->
        <div class="slide" data-slide="34">
            <h2>üß† Verificare Cuno»ôtin»õe: Nivelul Prezentare</h2>
            <div class="quiz-container">
                <div class="quiz-question">In Python, what does the format string <code>"!I"</code> represent in the struct module?</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 2)">A) A signed integer in little-endian format</div>
                <div class="quiz-option" onclick="checkQuiz(this, true, 2)">B) An unsigned 32-bit integer in network (big-endian) order</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 2)">C) A floating-point number in native byte order</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 2)">D) A variable-length string</div>
                <div class="quiz-feedback" id="quiz-fb-2"></div>
            </div>
            <div class="reveal-btn" onclick="toggleReveal(this)" style="margin-top: 1.5rem;">üí° Show Explanation</div>
            <div class="reveal-content">
                <div class="definition-box">
                    <div class="term">Answer: B</div>
                    <p>The <code>!</code> prefix specifies network byte order (big-endian), and <code>I</code> means unsigned int (4 bytes). This is the standard format for transmitting integers in network protocols.</p>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 35: Section - Practical -->
        <div class="slide section-slide" data-slide="35">
            <div class="section-number">Part V</div>
            <h1>Practical Application</h1>
            <p>Putting It All Together</p>
            <div class="slide-footer" style="color: rgba(255,255,255,0.5);">by Revolvix</div>
        </div>

        <!-- SLIDE 36: HTTP Headers -->
        <div class="slide" data-slide="36">
            <h2>üìã L6 in HTTP Headers</h2>
            <p>HTTP headers carry Nivelul Prezentare information:</p>
            <div class="two-col">
                <div>
                    <h3>Content Negotiation</h3>
                    <div class="code-block" data-lang="http">
<span class="comment"># Client request</span>
GET /api/data HTTP/1.1
Accept: application/json
Accept-Encoding: gzip, br
Accept-Language: en-GB, ro

<span class="comment"># Server response</span>
HTTP/1.1 200 OK
Content-Type: application/json; charset=utf-8
Content-Encoding: gzip
Content-Language: en-GB
                    </div>
                </div>
                <div>
                    <h3>Header Functions</h3>
                    <table>
                        <thead><tr><th>Header</th><th>L6 Function</th></tr></thead>
                        <tbody>
                            <tr><td><code>Content-Type</code></td><td>Data format (MIME)</td></tr>
                            <tr><td><code>Content-Encoding</code></td><td>Compression algorithm</td></tr>
                            <tr><td><code>charset=</code></td><td>Character encoding</td></tr>
                            <tr><td><code>Accept-*</code></td><td>Client capability</td></tr>
                            <tr><td><code>Transfer-Encoding</code></td><td>Chunked framing</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 37: Interactive Calculator -->
        <div class="slide" data-slide="37">
            <h2>üîß Binary Header Calculator</h2>
            <div class="interactive-panel">
                <h4>üî¢ Build a Protocol Header</h4>
                <p style="font-size: 0.9rem; color: var(--text-muted);">Configure header fields and see the resulting byte sequence:</p>
                <div class="two-col" style="margin-top: 1rem;">
                    <div>
                        <div class="slider-group">
                            <label>Message Type: <span id="msgTypeVal">1</span> (DATA)</label>
                            <input type="range" min="1" max="3" value="1" id="msgType" oninput="updateHeader()">
                        </div>
                        <div class="slider-group">
                            <label>Payload Length: <span id="payloadLenVal">256</span> bytes</label>
                            <input type="range" min="0" max="65535" value="256" id="payloadLen" oninput="updateHeader()">
                        </div>
                        <div class="slider-group">
                            <label>Flags: <span id="flagsVal">0x00</span></label>
                            <input type="range" min="0" max="255" value="0" id="headerFlags" oninput="updateHeader()">
                        </div>
                    </div>
                    <div>
                        <div class="result-display">
                            <p><strong>Header Format:</strong> !2sBBII (12 bytes)</p>
                            <p style="margin-top: 0.5rem;"><strong>Hex Bytes:</strong></p>
                            <p id="hexOutput" style="font-size: 1rem; letter-spacing: 1px;">53 39 01 00 00 00 01 00 00 00 00 00</p>
                            <p style="margin-top: 0.5rem; font-size: 0.85rem;" id="hexExplanation">Magic: S9 | Type: 1 | Flags: 0 | Len: 256 | CRC: placeholder</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 38: Reflection Questions -->
        <div class="slide" data-slide="38">
            <h2>ü§î Reflection Questions</h2>
            <div class="two-col">
                <div>
                    <ol style="font-size: 1rem;">
                        <li style="margin-bottom: 1rem;">Why is HTTP considered "stateless" if we have cookies and sessions?</li>
                        <li style="margin-bottom: 1rem;">What would happen without MIME types? How would a browser know what to do with data?</li>
                        <li style="margin-bottom: 1rem;">Why isn't TLS considered part of traditional OSI, even though it provides L5+L6 functions?</li>
                        <li style="margin-bottom: 1rem;">How does JWT implement session concepts without server-side storage?</li>
                        <li style="margin-bottom: 1rem;">What advantages/disadvantages does FTP's control/data separation provide?</li>
                    </ol>
                </div>
                <div>
                    <div class="story-box">
                        <div class="story-title">üí≠ Discussion Points</div>
                        <p>Consider these as you work through starterkit exercises. We'll discuss your insights during the seminar!</p>
                    </div>
                    <div class="highlight-box" style="margin-top: 1rem;">
                        <strong>Preparation:</strong> Answer at least three questions before the seminar. Reference specific code from the starterkit.
                    </div>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>
        <!-- SLIDE 39: Rezumat L5 -->
        <div class="slide" data-slide="39">
            <h2>üìù Rezumat: Nivelul Sesiune (L5)</h2>
            <div class="three-col">
                <div class="card success">
                    <h4>Core Functions</h4>
                    <ul>
                        <li>Session establishment/termination</li>
                        <li>Dialogue control (simplex/half/full)</li>
                        <li>Synchronisation and checkpoints</li>
                        <li>Token management</li>
                    </ul>
                </div>
                <div class="card accent">
                    <h4>Modern Exemplus</h4>
                    <ul>
                        <li>HTTP cookies and sessions</li>
                        <li>JWT tokens</li>
                        <li>WebSocket connections</li>
                        <li>TLS session resumption</li>
                        <li>SSH channels</li>
                    </ul>
                </div>
                <div class="card purple">
                    <h4>Key Distinction</h4>
                    <p><strong>Connection ‚â† Session</strong></p>
                    <p style="margin-top: 0.5rem;">TCP connection is a transport pipe. Session is logical conversation that may span multiple connections.</p>
                </div>
            </div>
            <div class="highlight-box" style="margin-top: 1.5rem;">
                <strong>Remember:</strong> Although OSI L5 protocols aren't common today, session concepts are fundamental to every stateful application you'll build.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 40: Rezumat L6 -->
        <div class="slide" data-slide="40">
            <h2>üìù Rezumat: Nivelul Prezentare (L6)</h2>
            <div class="three-col">
                <div class="card success">
                    <h4>Core Functions</h4>
                    <ul>
                        <li>Character encoding (UTF-8)</li>
                        <li>Byte order (endianness)</li>
                        <li>Serialisation (JSON, Protobuf)</li>
                        <li>Compression (gzip, zstd)</li>
                        <li>Criptare (TLS)</li>
                    </ul>
                </div>
                <div class="card accent">
                    <h4>Critical Concepts</h4>
                    <ul>
                        <li>Network byte order = big-endian</li>
                        <li>Framing solves TCP stream problem</li>
                        <li>Compress before encrypt</li>
                        <li>CRC/hash for integrity</li>
                    </ul>
                </div>
                <div class="card purple">
                    <h4>Python Tools</h4>
                    <ul>
                        <li><code>struct</code> ‚Äî binary packing</li>
                        <li><code>json</code> ‚Äî text serialisation</li>
                        <li><code>gzip/zlib</code> ‚Äî compression</li>
                        <li><code>hashlib</code> ‚Äî hashing</li>
                    </ul>
                </div>
            </div>
            <div class="highlight-box" style="margin-top: 1.5rem;">
                <strong>The Pipeline:</strong> Application Data ‚Üí Serialisation ‚Üí Compression ‚Üí Criptare ‚Üí Network. Reverse on reception.
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 41: Concluzii Cheie -->
        <div class="slide" data-slide="41">
            <h2>üéØ Concluzii Cheie</h2>
            <div class="two-col">
                <div>
                    <div class="card success" style="margin-bottom: 1rem;">
                        <h4>1. Connection vs Session</h4>
                        <p>TCP connections (L4) are transport pipes. Sessions (L5) are logical conversations with state that may span multiple connections.</p>
                    </div>
                    <div class="card accent" style="margin-bottom: 1rem;">
                        <h4>2. Always Use Network Byte Order</h4>
                        <p>Use <code>!</code> prefix in struct.pack() for multi-byte integers. Big-endian is the network standard.</p>
                    </div>
                    <div class="card purple">
                        <h4>3. TCP Requires Framing</h4>
                        <p>TCP is a byte stream. Include length in header and loop recv() until you have exactly N bytes.</p>
                    </div>
                </div>
                <div>
                    <div class="card success" style="margin-bottom: 1rem;">
                        <h4>4. FTP Demonstrates L5+L6</h4>
                        <p>Separate control/data channels, session state (auth, CWD), ASCII/binary modes‚Äîall OSI concepts.</p>
                    </div>
                    <div class="card accent" style="margin-bottom: 1rem;">
                        <h4>5. Compress Before Encrypt</h4>
                        <p>Encrypted data has high entropy. Compression after encryption provides no benefit.</p>
                    </div>
                    <div class="card purple">
                        <h4>6. Modern Systems Blend Layers</h4>
                        <p>TLS, HTTP, JWT‚Äîreal protocols combine L5/L6 functions pragmatically, not dogmatically.</p>
                    </div>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 42: UrmƒÉtorul Week Preview -->
        <div class="slide" data-slide="42">
            <h2>üîÆ Preview: Week 10</h2>
            <div class="two-col">
                <div>
                    <h3>Nivelul Aplica»õie: HTTP, REST, SOAP</h3>
                    <ul>
                        <li>HTTP/1.1, HTTP/2, HTTP/3 evolution</li>
                        <li>REST architectural principles</li>
                        <li>SOAP and enterprise web services</li>
                        <li>Building a custom HTTP server</li>
                        <li>Reverse proxies and load balancing</li>
                    </ul>
                </div>
                <div>
                    <div class="card accent">
                        <h4>üìã Preparation</h4>
                        <ul>
                            <li>Install Postman or Insomnia</li>
                            <li>Recapitulare request/response concept</li>
                            <li>Optional: read RFC 7230 (HTTP/1.1)</li>
                            <li>Complete Week 9 starterkit exercises</li>
                        </ul>
                    </div>
                    <div class="highlight-box" style="margin-top: 1rem;">
                        <strong>Lab connection:</strong> We'll build an HTTP server using the socket and framing skills from this week.
                    </div>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 43: Bibliography -->
        <div class="slide" data-slide="43">
            <h2>üìö Bibliography and Resources</h2>
            <div class="two-col">
                <div>
                    <h3>Required Reading</h3>
                    <ul>
                        <li>J. Kurose, K. Ross ‚Äî <em>Computer Networking: A Top-Down Approach</em>, 7th Ed., Pearson, 2016, Ch. 2, 9</li>
                        <li>B. Rhodes, J. Goerzen ‚Äî <em>Foundations of Python Network Programming</em>, Apress, 2014</li>
                    </ul>
                    <h3 style="margin-top: 1.5rem;">Relevant RFCs</h3>
                    <ul>
                        <li>RFC 959 ‚Äî File Transfer Protocol (FTP)</li>
                        <li>RFC 7230 ‚Äî HTTP/1.1 Message Syntax</li>
                        <li>RFC 6265 ‚Äî HTTP State Management (Cookies)</li>
                        <li>RFC 4648 ‚Äî Base64 Encoding</li>
                        <li>RFC 7519 ‚Äî JSON Web Token (JWT)</li>
                        <li>RFC 8446 ‚Äî TLS 1.3</li>
                    </ul>
                </div>
                <div>
                    <h3>Online Documentation</h3>
                    <ul>
                        <li>Python struct module: <code>docs.python.org/3/library/struct</code></li>
                        <li>Python socket HOWTO: <code>docs.python.org/3/howto/sockets</code></li>
                        <li>MDN Web Docs: <code>developer.mozilla.org</code></li>
                    </ul>
                    <h3 style="margin-top: 1.5rem;">Starterkit Files</h3>
                    <ul>
                        <li><code>python/exercises/ex_9_01_endianness.py</code></li>
                        <li><code>python/exercises/ex_9_02_pseudo_ftp.py</code></li>
                        <li><code>python/utils/net_utils.py</code></li>
                        <li><code>Makefile</code> ‚Äî all useful commands</li>
                    </ul>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 44: Final Quiz -->
        <div class="slide" data-slide="44">
            <h2>üéì Final Verificare Cuno»ôtin»õe</h2>
            <div class="quiz-container">
                <div class="quiz-question">Which statement about FTP is CORRECT?</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 3)">A) FTP uses a single connection for both control and data transfer</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 3)">B) In active mode, the client initiates the data connection</div>
                <div class="quiz-option" onclick="checkQuiz(this, true, 3)">C) In passive mode, the server opens a port and the client connects to it</div>
                <div class="quiz-option" onclick="checkQuiz(this, false, 3)">D) FTP control commands are sent in binary format</div>
                <div class="quiz-feedback" id="quiz-fb-3"></div>
            </div>
            <div class="reveal-btn" onclick="toggleReveal(this)" style="margin-top: 1.5rem;">üí° Show Explanation</div>
            <div class="reveal-content">
                <div class="definition-box">
                    <div class="term">Answer: C</div>
                    <p>In passive mode (PASV), the server opens a dynamic port and informs the client, which then initiates the data connection. This works through NAT/firewalls because outbound connections are typically allowed. Control commands are text-based (USER, PASS, LIST, etc.).</p>
                </div>
            </div>
            <div class="slide-footer">by Revolvix</div>
        </div>

        <!-- SLIDE 45: Thank You -->
        <div class="slide title-slide" data-slide="45">
            <h1>Thank You!</h1>
            <p>Questions?</p>
            <p class="subtitle" style="margin-top: 2rem;">See you at the seminar for hands-on implementation!</p>
            <div class="code-block" style="background: rgba(0,0,0,0.3); max-width: 500px; margin: 2rem auto; text-align: left;">
cd ~/WEEK9
make setup
make server      <span class="comment"># Terminal 1</span>
make client-list <span class="comment"># Terminal 2</span>
            </div>
            <p class="subtitle" style="margin-top: 1.5rem; font-size: 0.9rem;">ASE-CSIE 2025 | Re»õele de Calculatoare | Collective teaching staff</p>
            <div class="slide-footer" style="color: rgba(255,255,255,0.5);">by Revolvix</div>
        </div>

    </div><!-- end presentation -->

    <!-- Navigation Controls -->
    <div class="nav-controls">
        <button class="nav-btn" id="prevBtn" onclick="prevSlide()" title="Anterior (‚Üê)">‚óÄ</button>
        <button class="nav-btn toc-btn" onclick="openTOC()" title="Cuprins (T)">‚ò∞</button>
        <button class="nav-btn fullscreen-btn" onclick="toggleFullscreen()" title="Fullscreen (F)">‚õ∂</button>
        <button class="nav-btn" id="nextBtn" onclick="nextSlide()" title="UrmƒÉtorul (‚Üí)">‚ñ∂</button>
    </div>

    <!-- TOC Modal -->
    <div class="toc-modal" id="tocModal" onclick="closeTOC(event)">
        <div class="toc-content" onclick="event.stopPropagation()">
            <h2>üìë Cuprins</h2>
            <div class="toc-section">
                <h4>Introduction</h4>
                <div class="toc-item" onclick="goToSlide(1)"><span>Title</span><span>1</span></div>
                <div class="toc-item" onclick="goToSlide(2)"><span>A Programmer's Mystery</span><span>2</span></div>
                <div class="toc-item" onclick="goToSlide(3)"><span>Obiective de √énvƒÉ»õare</span><span>3</span></div>
                <div class="toc-item" onclick="goToSlide(4)"><span>Course Roadmap</span><span>4</span></div>
            </div>
            <div class="toc-section">
                <h4>Part I: Nivelul Sesiune (L5)</h4>
                <div class="toc-item" onclick="goToSlide(5)"><span>Section: Nivelul Sesiune</span><span>5</span></div>
                <div class="toc-item" onclick="goToSlide(6)"><span>OSI Upper Layers</span><span>6</span></div>
                <div class="toc-item" onclick="goToSlide(7)"><span>Context Istoric</span><span>7</span></div>
                <div class="toc-item" onclick="goToSlide(8)"><span>Connection vs Session</span><span>8</span></div>
                <div class="toc-item" onclick="goToSlide(9)"><span>Session Lifecycle</span><span>9</span></div>
                <div class="toc-item" onclick="goToSlide(10)"><span>Synchronisation</span><span>10</span></div>
                <div class="toc-item" onclick="goToSlide(11)"><span>Dialogue Control</span><span>11</span></div>
                <div class="toc-item" onclick="goToSlide(12)"><span>Modern Systems</span><span>12</span></div>
                <div class="toc-item" onclick="goToSlide(13)"><span>HTTP Sessions</span><span>13</span></div>
                <div class="toc-item" onclick="goToSlide(14)"><span>Quiz: L5</span><span>14</span></div>
            </div>
            <div class="toc-section">
                <h4>Part II: Nivelul Prezentare (L6)</h4>
                <div class="toc-item" onclick="goToSlide(15)"><span>Section: Nivelul Prezentare</span><span>15</span></div>
                <div class="toc-item" onclick="goToSlide(16)"><span>L6 Defini»õie</span><span>16</span></div>
                <div class="toc-item" onclick="goToSlide(17)"><span>Endianness</span><span>17</span></div>
                <div class="toc-item" onclick="goToSlide(18)"><span>Python struct Module</span><span>18</span></div>
                <div class="toc-item" onclick="goToSlide(19)"><span>Binary Header Design</span><span>19</span></div>
                <div class="toc-item" onclick="goToSlide(20)"><span>Framing Problem</span><span>20</span></div>
                <div class="toc-item" onclick="goToSlide(21)"><span>Codificarea Caracterelor</span><span>21</span></div>
                <div class="toc-item" onclick="goToSlide(22)"><span>Serialisation</span><span>22</span></div>
                <div class="toc-item" onclick="goToSlide(23)"><span>Compression</span><span>23</span></div>
                <div class="toc-item" onclick="goToSlide(24)"><span>L6 Pipeline</span><span>24</span></div>
            </div>
            <div class="toc-section">
                <h4>Part III: FTP Case Study</h4>
                <div class="toc-item" onclick="goToSlide(25)"><span>Section: FTP</span><span>25</span></div>
                <div class="toc-item" onclick="goToSlide(26)"><span>FTP Prezentare GeneralƒÉ</span><span>26</span></div>
                <div class="toc-item" onclick="goToSlide(27)"><span>FTP Sequence</span><span>27</span></div>
                <div class="toc-item" onclick="goToSlide(28)"><span>Active vs Passive</span><span>28</span></div>
                <div class="toc-item" onclick="goToSlide(29)"><span>Pseudo-FTP Implementation</span><span>29</span></div>
                <div class="toc-item" onclick="goToSlide(30)"><span>Common Pitfalls</span><span>30</span></div>
                <div class="toc-item" onclick="goToSlide(31)"><span>Wireshark Analysis</span><span>31</span></div>
            </div>
            <div class="toc-section">
                <h4>Part IV: TLS &amp; Part V: Practical</h4>
                <div class="toc-item" onclick="goToSlide(32)"><span>Section: TLS</span><span>32</span></div>
                <div class="toc-item" onclick="goToSlide(33)"><span>TLS Prezentare GeneralƒÉ</span><span>33</span></div>
                <div class="toc-item" onclick="goToSlide(34)"><span>Quiz: L6</span><span>34</span></div>
                <div class="toc-item" onclick="goToSlide(35)"><span>Section: Practical</span><span>35</span></div>
                <div class="toc-item" onclick="goToSlide(36)"><span>HTTP Headers</span><span>36</span></div>
                <div class="toc-item" onclick="goToSlide(37)"><span>Binary Header Calculator</span><span>37</span></div>
                <div class="toc-item" onclick="goToSlide(38)"><span>Reflection Questions</span><span>38</span></div>
            </div>
            <div class="toc-section">
                <h4>Wrap-up</h4>
                <div class="toc-item" onclick="goToSlide(39)"><span>Rezumat: L5</span><span>39</span></div>
                <div class="toc-item" onclick="goToSlide(40)"><span>Rezumat: L6</span><span>40</span></div>
                <div class="toc-item" onclick="goToSlide(41)"><span>Concluzii Cheie</span><span>41</span></div>
                <div class="toc-item" onclick="goToSlide(42)"><span>UrmƒÉtorul Week Preview</span><span>42</span></div>
                <div class="toc-item" onclick="goToSlide(43)"><span>Bibliography</span><span>43</span></div>
                <div class="toc-item" onclick="goToSlide(44)"><span>Final Quiz</span><span>44</span></div>
                <div class="toc-item" onclick="goToSlide(45)"><span>Thank You</span><span>45</span></div>
            </div>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 45;

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            if (n < 1) n = 1;
            if (n > totalSlides) n = totalSlides;

            slides.forEach((slide, index) => {
                slide.classList.remove('active');
                if (index + 1 === n) {
                    slide.classList.add('active');
                }
            });

            currentSlide = n;
            document.getElementById('slideCounter').textContent = n + ' / ' + totalSlides;
            document.getElementById('prevBtn').disabled = (n === 1);
            document.getElementById('nextBtn').disabled = (n === totalSlides);

            const progress = (n / totalSlides) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function nextSlide() { showSlide(currentSlide + 1); }
        function prevSlide() { showSlide(currentSlide - 1); }
        function goToSlide(n) { showSlide(n); closeTOC(); }

        function openTOC() { document.getElementById('tocModal').classList.add('show'); }
        function closeTOC(event) {
            if (!event || event.target === document.getElementById('tocModal')) {
                document.getElementById('tocModal').classList.remove('show');
            }
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        function checkQuiz(element, isCorrect, quizNum) {
            const container = element.parentElement;
            const options = container.querySelectorAll('.quiz-option');
            options.forEach(opt => opt.style.pointerEvents = 'none');

            if (isCorrect) {
                element.classList.add('correct');
                document.getElementById('quiz-fb-' + quizNum).className = 'quiz-feedback show correct-fb';
                document.getElementById('quiz-fb-' + quizNum).innerHTML = '<strong>‚úì Corect!</strong> Well done!';
            } else {
                element.classList.add('incorrect');
                options.forEach(opt => {
                    opt.onclick = null;
                });
                document.getElementById('quiz-fb-' + quizNum).className = 'quiz-feedback show incorrect-fb';
                document.getElementById('quiz-fb-' + quizNum).innerHTML = '<strong>‚úó Incorect.</strong> Recapitulare the material and try the reveal button for explanation.';
            }
        }

        function toggleReveal(btn) {
            const content = btn.nextElementSibling;
            content.classList.toggle('show');
            btn.textContent = content.classList.contains('show') ? 'üôà Hide Explanation' : 'üí° Show Explanation';
        }

        function calculateCompression() {
            const origSize = parseInt(document.getElementById('origSize').value);
            const ratio = parseInt(document.getElementById('compRatio').value);
            const compSize = Math.round(origSize * (100 - ratio) / 100);
            const throughput = (origSize / compSize).toFixed(1);

            document.getElementById('origSizeVal').textContent = origSize;
            document.getElementById('ratioVal').textContent = ratio;
            document.getElementById('compSize').textContent = compSize;
            document.getElementById('throughput').textContent = throughput;
        }

        function updateHeader() {
            const msgType = parseInt(document.getElementById('msgType').value);
            const payloadLen = parseInt(document.getElementById('payloadLen').value);
            const flags = parseInt(document.getElementById('headerFlags').value);

            const typeNames = {1: 'DATA', 2: 'ACK', 3: 'ERROR'};
            document.getElementById('msgTypeVal').textContent = msgType + ' (' + (typeNames[msgType] || 'UNKNOWN') + ')';
            document.getElementById('payloadLenVal').textContent = payloadLen;
            document.getElementById('flagsVal').textContent = '0x' + flags.toString(16).padStart(2, '0').toUpperCase();

            // Simulate header bytes (magic S9 + msgType + flags + length + placeholder CRC)
            const magic = '53 39';
            const mtHex = msgType.toString(16).padStart(2, '0');
            const flHex = flags.toString(16).padStart(2, '0');
            const lenHex = payloadLen.toString(16).padStart(8, '0');
            const lenBytes = lenHex.match(/.{2}/g).join(' ');
            const crcPlaceholder = '00 00 00 00';

            document.getElementById('hexOutput').textContent = magic + ' ' + mtHex + ' ' + flHex + ' ' + lenBytes + ' ' + crcPlaceholder;
            document.getElementById('hexExplanation').textContent = 'Magic: S9 | Type: ' + msgType + ' | Flags: ' + flags + ' | Len: ' + payloadLen + ' | CRC: placeholder';
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); nextSlide(); }
            else if (e.key === 'ArrowLeft') { e.preventDefault(); prevSlide(); }
            else if (e.key === 'Home') { e.preventDefault(); showSlide(1); }
            else if (e.key === 'End') { e.preventDefault(); showSlide(totalSlides); }
            else if (e.key === 'f' || e.key === 'F') { toggleFullscreen(); }
            else if (e.key === 't' || e.key === 'T') { openTOC(); }
            else if (e.key === 'Escape') { closeTOC(); }
        });

        // Initialize
        showSlide(1);
        calculateCompression();
        updateHeader();
    </script>
</body>
</html>
